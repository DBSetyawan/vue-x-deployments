{"version":3,"sources":["webpack:///./src/utils/crud/components/field-types/Select.vue?a494","webpack:///src/utils/crud/components/field-types/Select.vue","webpack:///./src/utils/crud/components/field-types/Select.vue?ecdb","webpack:///./src/utils/crud/components/field-types/Select.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","rules","items","loading","field","list","text","value","search","disabled","on","$event","onChange","scopedSlots","_u","key","fn","refreshList","url","_v","proxy","model","callback","$$v","selection","expression","staticRenderFns","name","props","type","Array","default","Object","data","undefined","oldSearch","searchActive","computed","async","methods","$emit","selectItems","required","http","get","then","response","body","map","item","rItem","activeColumn","itemDisabled","complexName","textArray","textInfo","splittedText","split","reduce","object","property","join","nullElement","watch","immediate","val","setTimeout","component","VAutocomplete","VIcon"],"mappings":"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","file":"js/chunk-2d0d3334.5419ae18.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-autocomplete',{staticClass:\"field--limited-width\",attrs:{\"rules\":_vm.rules,\"items\":_vm.items,\"loading\":_vm.loading,\"item-text\":_vm.field.list.text,\"item-value\":_vm.field.list.value,\"search-input\":_vm.search,\"label\":_vm.field.text,\"disabled\":_vm.field.disabled,\"menu-props\":\"bottom\",\"item-disabled\":\"itemDisabled\",\"hide-details\":\"\"},on:{\"update:searchInput\":function($event){_vm.search=$event},\"update:search-input\":function($event){_vm.search=$event},\"change\":function($event){return _vm.onChange()}},scopedSlots:_vm._u([(_vm.listRefreshable)?{key:\"append-outer\",fn:function(){return [_c('v-icon',{attrs:{\"color\":\"blue\"},on:{\"click\":function($event){return _vm.refreshList(_vm.field.url)}}},[_vm._v(\"\\n      refresh\\n    \")])]},proxy:true}:null],null,true),model:{value:(_vm.selection),callback:function ($$v) {_vm.selection=$$v},expression:\"selection\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-autocomplete\n    v-model=\"selection\"\n    :rules=\"rules\"\n    :items=\"items\"\n    :loading=\"loading\"\n    :item-text=\"field.list.text\"\n    :item-value=\"field.list.value\"\n    :search-input.sync=\"search\"\n    :label=\"field.text\"\n    :disabled=\"field.disabled\"\n    menu-props=\"bottom\"\n    class=\"field--limited-width\"\n    item-disabled=\"itemDisabled\"\n    hide-details\n    @change=\"onChange()\"\n  >\n    <template\n      v-if=\"listRefreshable\"\n      v-slot:append-outer\n    >\n      <v-icon\n        color=\"blue\"\n        @click=\"refreshList(field.url)\"\n      >\n        refresh\n      </v-icon>\n    </template>\n  </v-autocomplete>\n</template>\n\n<script>\n\nimport Vue from 'vue'\n\nexport default {\n  name: 'SelectField',\n  props: {\n    value: {},\n    rules: {\n      type: Array,\n      default: () => [],\n    },\n    field: {\n      type: Object,\n    },\n  },\n  data: () => ({\n    selection: undefined,\n    items: [],\n    search: '',\n    oldSearch: '',\n    loading: false,\n    searchActive: true,\n  }),\n  computed: {\n    listRefreshable () {\n      return !this.field.async && this.field.url !== undefined\n    },\n  },\n  methods: {\n    onChange () {\n      this.$emit('input', this.selection)\n    },\n    refreshList (url) {\n      this.searchActive = false\n      let selectItems\n      this.loading = true\n      const required = this.field.required !== undefined ? this.field.required : true\n      Vue.http.get(url).then((response) => {\n        const items = response.body\n        selectItems = items.map((item) => {\n          const rItem = item\n          if (typeof this.field.list.activeColumn !== 'undefined') {\n            rItem.itemDisabled = item[this.field.list.activeColumn] === 0\n          }\n          if (typeof this.field.list.complexName !== 'undefined') {\n            const textArray = this.field.list.complexName.map((textInfo) => {\n              const splittedText = textInfo.split('.').reduce((object, property) => object[property] || '', item)\n              return splittedText\n            })\n            rItem.complexName = textArray.join(', ')\n          }\n          return rItem\n        })\n        if (!required) {\n          const nullElement = {}\n          nullElement[this.field.list.value] = ''\n          nullElement[this.field.list.text] = '-'\n          this.items = [\n            nullElement,\n            ...selectItems,\n          ]\n        } else {\n          this.items = selectItems\n        }\n        this.loading = false\n        this.searchActive = true\n      })\n    },\n  },\n  mounted () {\n    if (!this.field.url) {\n      this.items = this.field.list.data\n    } else {\n      this.items = []\n      if (this.field.async) {\n        this.loading = false\n      } else {\n        this.refreshList(this.field.url)\n      }\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (val) {\n        this.selection = val\n      },\n    },\n    search: {\n      handler (val) {\n        setTimeout(() => {\n          if (this.field.async && this.searchActive) {\n            if (this.search === val) {\n              const url = `${this.field.url}/phrase/${val}`\n              this.refreshList(url)\n            }\n          }\n        }, 500)\n      },\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Select.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Select.vue?vue&type=template&id=5c9cd627&\"\nimport script from \"./Select.vue?vue&type=script&lang=js&\"\nexport * from \"./Select.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VAutocomplete,VIcon})\n"],"sourceRoot":""}
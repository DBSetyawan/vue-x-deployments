(function(e){function t(t){for(var a,s,r=t[0],l=t[1],d=t[2],c=0,m=[];c<r.length;c++)s=r[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],a=!0,s=1;s<i.length;s++){var r=i[s];0!==o[r]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=i[0]))}return e}var a={},s={app:0},o={app:0},n=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-01e9b8b4":"b715cb1e","chunk-036d973a":"e7080f23","chunk-03bdb9f4":"f6447785","chunk-26953928":"25c3d1e2","chunk-2bd9216d":"87980d4b","chunk-2d0d3334":"5419ae18","chunk-2d0e9d06":"d5ba1102","chunk-2d2160bc":"71e75af6","chunk-829c7efc":"0ccb57d7","chunk-97d0bb00":"c65ae579","chunk-97fc0b7a":"f23bacfb","chunk-9f1a9326":"abb91938","chunk-a8836b76":"623f67d0"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(e){var t=[],i={"chunk-01e9b8b4":1,"chunk-036d973a":1,"chunk-26953928":1,"chunk-2bd9216d":1,"chunk-829c7efc":1,"chunk-9f1a9326":1,"chunk-a8836b76":1};s[e]?t.push(s[e]):0!==s[e]&&i[e]&&t.push(s[e]=new Promise((function(t,i){for(var a="css/"+({}[e]||e)+"."+{"chunk-01e9b8b4":"d3df0ead","chunk-036d973a":"a52f353e","chunk-03bdb9f4":"31d6cfe0","chunk-26953928":"0ba916f7","chunk-2bd9216d":"d3df0ead","chunk-2d0d3334":"31d6cfe0","chunk-2d0e9d06":"31d6cfe0","chunk-2d2160bc":"31d6cfe0","chunk-829c7efc":"f98e784c","chunk-97d0bb00":"31d6cfe0","chunk-97fc0b7a":"31d6cfe0","chunk-9f1a9326":"a513a69e","chunk-a8836b76":"d007547c"}[e]+".css",o=l.p+a,n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var d=n[r],c=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===a||c===o))return t()}var m=document.getElementsByTagName("style");for(r=0;r<m.length;r++){d=m[r],c=d.getAttribute("data-href");if(c===a||c===o)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var a=t&&t.target&&t.target.src||o,n=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=a,delete s[e],u.parentNode.removeChild(u),i(n)},u.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(u)})).then((function(){s[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,i){a=o[e]=[t,i]}));t.push(a[2]=n);var d,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=r(e);var m=new Error;d=function(t){c.onerror=c.onload=null,clearTimeout(u);var i=o[e];if(0!==i){if(i){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",m.name="ChunkLoadError",m.type=a,m.request=s,i[1](m)}o[e]=void 0}};var u=setTimeout((function(){d({type:"timeout",target:c})}),12e4);c.onerror=c.onload=d,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(i,a,function(t){return e[t]}.bind(null,a));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var m=0;m<d.length;m++)t(d[m]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"075e":function(e,t,i){e.exports=i.p+"img/vue-crud-lg.6287cf88.png"},"0dfe":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return r}));var a=i("c856");const s=a["a"].fieldModifiers||{};function o(e,t){const i=document.createElement("a");i.href=`${e}/${t}`,i.download=!0,i.target="_blank",i.click()}function n(e,t){const i=t?1e3:1024;if(Math.abs(e)<i)return`${e} B`;const a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KB","MB","GB","TB","PB","EB","ZB","YB"];let s=-1;do{e/=i,++s}while(Math.abs(e)>=i&&s<a.length-1);return`${e.toFixed(1)} ${a[s]}`}function r(e,t,i,a,o,n){const r={};r.meta={id:e[a],active:e[n],buttons:{},item:{}};for(const s in e)"object"===typeof e[s]&&null!==e[s]||(r.meta.item[s]=e[s]);for(const s of o)if(r.meta.buttons[s.name]=!0,s.condition){let t=!1;const i=e[s.condition.field],a=s.condition.values;let{operator:o}=s.condition;if("=="===o)for(const e of a)i===e&&(t=!0);else if("!="===o)for(const e of a)i!==e&&(t=!0);else if(">"===o)for(const e of a)i>e&&(t=!0);else if("<"===o)for(const e of a)i<e&&(t=!0);r.meta.buttons[s.name]=t}for(const l of t){const t=function(t){let i=""===t.name?e:t.name.split(".").reduce((e,t)=>e[t]||"",e);const a=t.functions||[],o=s;for(let e=0;e<a.length;e++){const t=a[e];i=o[t](i)}return i};r[l.name.toLowerCase()]=void 0===l.apiObject?e[l.name]:t(l.apiObject)}for(const s of i){const t=function(t){const i=t.name.split(".").reduce((e,t)=>e[t]||"",e);return i};r.meta[s.name.toLowerCase()]=void 0===s.apiObject?e[s.name]:t(s.apiObject)}return r}},1:function(e,t){},"16e7":function(e,t,i){var a={"./Checkbox.vue":["60e9","chunk-829c7efc"],"./Date.vue":["a807","chunk-26953928"],"./File.vue":["2b5a","chunk-9f1a9326"],"./RichTextBox.vue":["12cf","chunk-01e9b8b4"],"./Select.vue":["5c6f","chunk-2d0d3334"],"./Text.vue":["8ead","chunk-2d0e9d06"],"./Textarea.vue":["223b","chunk-a8836b76"],"./components/FieldWrapper.vue":["0555","chunk-2bd9216d"]};function s(e){if(!i.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return i.e(t[1]).then((function(){return i(s)}))}s.keys=function(){return Object.keys(a)},s.id="16e7",e.exports=s},"1e18":function(e,t,i){"use strict";var a=i("4189"),s=i.n(a);s.a},"208d":function(e,t,i){},2369:function(e,t,i){"use strict";var a=i("4868"),s=i.n(a);s.a},"23f7":function(e,t,i){e.exports=i.p+"img/donut.47f10ed6.png"},2804:function(e,t,i){"use strict";var a=i("5c51"),s=i.n(a);s.a},"324e":function(e,t,i){"use strict";var a=i("fa45"),s=i.n(a);s.a},"3ca8":function(e,t,i){"use strict";var a=i("6346"),s=i.n(a);s.a},"3cca":function(e,t,i){var a={"./Crud.vue":["6461"],"./CrudTableClientMode.vue":["ae88","chunk-97d0bb00"],"./CrudTableServerMode.vue":["329a","chunk-97fc0b7a"],"./CrudTreeClientMode.vue":["c988","chunk-036d973a"],"./CrudTreeServerMode.vue":["c191","chunk-2d2160bc"]};function s(e){if(!i.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return Promise.all(t.slice(1).map(i.e)).then((function(){return i(s)}))}s.keys=function(){return Object.keys(a)},s.id="3cca",e.exports=s},4053:function(e,t,i){},4189:function(e,t,i){},"41e2":function(e,t,i){e.exports=i.p+"img/cake.96711cc3.png"},4868:function(e,t,i){},"4c4d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"\n    card-title\n    table-controls\n    px-3\n    d-flex\n    align-center\n    justify-space-between\n  "},[i("div",[e.createMode?i("crud-button",{attrs:{"x-large":"",color:"light-blue lighten-2",icon:"add",tooltip:e.$t("global.datatable.add")},on:{clicked:function(t){return e.create()}}}):e._e(),e.editMode&&e.selectManyMode&&e.updateManyMode?i("crud-button",{attrs:{large:"",color:"orange",icon:"edit",tooltip:e.$t("global.datatable.buttons.editSelected")},on:{clicked:function(t){return e.editSelected()}}}):e._e(),["soft","both"].includes(e.deleteMode)&&e.selectManyMode&&e.updateManyMode?[i("crud-button",{attrs:{large:"",color:"red",icon:"undo",tooltip:e.$t("global.datatable.buttons.suspendSelected")},on:{clicked:function(t){return e.suspendSelected()}}}),i("crud-button",{attrs:{large:"",color:"green",icon:"redo",tooltip:e.$t("global.datatable.buttons.restoreSelected")},on:{clicked:function(t){return e.restoreSelected()}}})]:e._e(),["hard","both"].includes(e.deleteMode)&&e.selectManyMode&&e.removeManyMode?i("crud-button",{attrs:{large:"",color:"black",icon:"delete",tooltip:e.$t("global.datatable.buttons.deleteSelected")},on:{clicked:function(t){return e.destroySelected()}}}):e._e(),e._t("left")],2),i("div",[e.fieldFilters?i("v-menu",{attrs:{"close-on-content-click":!1,"max-height":"50vh","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{large:"",color:"grey",icon:""}},a),[i("v-icon",[e._v("filter_list")])],1)]}}],null,!1,3165121118)},[i("v-list",{staticStyle:{"overflow-y":"false"}},e._l(e.columnFilters,(function(t,a){return i("v-list-item",{key:a},[i("v-autocomplete",{attrs:{items:e.filterModes,"item-text":"text","item-value":"name",label:e.$t("global.datatable.filterModes.label"),"hide-details":""},on:{input:function(t){return e.updateColumnFilterMode(t,a)}},model:{value:t.mode,callback:function(i){e.$set(t,"mode",i)},expression:"item.mode"}}),i("v-text-field",{attrs:{"hide-details":"",label:t.text},on:{input:function(t){return e.updateColumnFilterValue(t,a)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1)})),1)],1):e._e(),e.mainFilter?i("span",{staticClass:"crud-controls__search"},[i("v-text-field",{staticClass:"crud-controls__search-input",attrs:{label:e.$t("global.datatable.search"),"append-icon":"search","single-line":"","hide-details":""},on:{input:e.updateSearch},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1):e._e(),["soft","both","filter"].includes(e.deleteMode)?[i("span",{staticClass:"crud-controls__select-statuses"},[i("v-autocomplete",{attrs:{items:e.statuses,label:e.$t("global.datatable.status.title"),"item-text":"text","item-value":"value","single-line":"",multiple:"",chips:""},on:{change:e.updateSelectedStatuses},model:{value:e.selectedStatuses,callback:function(t){e.selectedStatuses=t},expression:"selectedStatuses"}})],1)]:e._e(),e.mainFilter||e.fieldFilters?i("crud-button",{attrs:{large:"",color:"grey",icon:"delete_sweep",tooltip:e.$t("global.datatable.buttons.clearFilters")},on:{clicked:function(t){return e.clearFilters()}}}):e._e(),e._t("center")],2),i("div",[e.refreshButton?i("crud-button",{attrs:{large:"",color:"blue",icon:"refresh",tooltip:e.$t("global.datatable.buttons.refreshTable")},on:{clicked:function(t){return e.refreshItemsView()}}}):e._e(),e.exportButton?i("crud-button",{attrs:{loading:e.excelLoading,tooltip:e.$t("global.datatable.buttons.copyToExcel"),color:"green darken-4",icon:"save_alt",large:""},on:{clicked:e.exportToExcel}}):e._e(),e._t("right")],2)])},s=[],o=i("b587"),n={name:"Controls",components:{CrudButton:o["a"]},props:["createMode","editMode","deleteMode","selectManyMode","updateManyMode","removeManyMode","mainFilter","fieldFilters","refreshButton","exportButton","excelLoading","initialSearch","initialSelectedStatuses","initialColumnFilters"],data(){return{search:"",selectedStatuses:[],columnFilters:[]}},computed:{statuses(){return[{text:this.$t("global.datatable.status.active"),value:1},{text:this.$t("global.datatable.status.inactive"),value:0}]},filterModes(){return[{name:"like",text:this.$t("global.datatable.filterModes.options.like")},{name:"equals",text:this.$t("global.datatable.filterModes.options.equals")},{name:"list",text:this.$t("global.datatable.filterModes.options.list")}]}},methods:{create(){this.$emit("create")},editSelected(){this.$emit("editSelected")},suspendSelected(){this.$emit("suspendSelected")},restoreSelected(){this.$emit("restoreSelected")},destroySelected(){this.$emit("destroySelected")},refreshItemsView(){this.$emit("refreshItemsView")},updateSearch(){this.$emit("updateSearch",this.search)},updateSelectedStatuses(){this.$emit("updateSelectedStatuses",this.selectedStatuses)},updateColumnFilterMode(e,t){this.$emit("updateColumnFilterMode",e,t)},updateColumnFilterValue(e,t){this.$emit("updateColumnFilterValue",e,t)},updateColumnFilters(){this.$emit("updateColumnFilters",this.columnFilters)},clearFilters(){this.search="",this.updateSearch(),this.selectedStatuses=[1],this.updateSelectedStatuses();for(const e of this.columnFilters)e.mode="like",e.value="";this.updateColumnFilters(),this.$emit("clearFilters")},exportToExcel(){this.$emit("exportToExcel")}},created(){this.search=this.initialSearch,this.selectedStatuses=this.initialSelectedStatuses,this.columnFilters=this.initialColumnFilters}},r=n,l=(i("e207"),i("2877")),d=i("6544"),c=i.n(d),m=i("c6a6"),u=i("8336"),p=i("132d"),h=i("8860"),f=i("da13"),g=i("e449"),b=i("8654"),v=Object(l["a"])(r,a,s,!1,null,"66e65119",null);t["a"]=v.exports;c()(v,{VAutocomplete:m["a"],VBtn:u["a"],VIcon:p["a"],VList:h["a"],VListItem:f["a"],VMenu:g["a"],VTextField:b["a"]})},"4cfd":function(e,t,i){"use strict";t["a"]={data(){return{search:"",selectedStatuses:[1],columnFilters:[],excelLoading:!1}},methods:{updateColumnFilterMode(e,t){const i=this.columnFilters;i[t].mode=e,this.$set(this,"columnFilters",i),this.startSearching()},updateColumnFilterValue(e,t){const i=this.columnFilters;i[t].value=e,this.$set(this,"columnFilters",i),this.startSearching()},updateColumnFilters(e){this.$set(this,"columnFilters",e),this.startSearching()},updateSearch(e){this.search=e,this.startSearching()},updateSelectedStatuses(e){this.selectedStatuses=e,this.startSearching()}},created(){this.columnFilters=this.tableFields.map(e=>{const t={mode:"like"};return t.text=e.text,t.name=e.name.toLowerCase(),t.column=e.column,t.value="",t})}}},"54df":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);var a=i("2b0e"),s=i("a925"),o=i("2f62"),n={title:"Vue CRUD",locales:[{name:"en",text:"English"},{name:"pl",text:"Polski"}],defaultLocale:"en",iconfont:"md",primaryTheme:"dark",secondaryTheme:"dark",theme:{primary:"#34495e",secondary:"#41b883",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}};const r={title:"Vue CRUD",locales:[{name:"en",text:"English"}],defaultLocale:"en",iconfont:"md",primaryTheme:"dark",secondaryTheme:"dark",theme:{primary:"#34495e",secondary:"#41b883",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}},l=Object.assign(r,n),d={title:l.title,locale:localStorage.getItem("locale"),defaultLocale:l.defaultLocale,locales:l.locales,primaryTheme:l.primaryTheme,secondaryTheme:l.secondaryTheme,alert:{show:!1,color:"",text:"",icon:""}};var c=d;const m={lng:e=>null!=e.locale?e.locale:e.defaultLocale};var u=m;const p={setLocale(e,t){localStorage.setItem("locale",t),e.locale=t},alertSuccess(e,t){e.alert.type="success",e.alert.text=t,e.alert.show=!0},alertValidationError(e,t){e.alert.type="warning";let i="";for(const a in t)i+=`<div><strong>${a}: </strong>${t[a].join(", ")}</div>`;e.alert.text=i,e.alert.show=!0},alertError(e,t){e.alert.type="error",e.alert.text=t,e.alert.show=!0},closeAlertBox(e){e.alert.show=!1}};var h=p;const f={openAlertBox({commit:e},[t,i]){["alertSuccess","alertValidationError","alertError"].includes(t)&&e(t,i),setTimeout(()=>{e("closeAlertBox")},4e3)}};var g=f,b={url:"http://crm-api.id-a.pl",path:{prefix:"api",storage:"storage",upload:"files/file-upload"}};const v={prefix:"",path:"",paths:{},itemsViewType:void 0,isItemsViewFlat:!1,tableReady:!1,detailsLoading:!1,items:[],totalItems:0,loading:!0,currentItemId:null,currentItemIndex:null,moveItemRun:!1,moveItemDirection:null,details:{show:!1,id:null,action:null,formValid:!1,item:{}},createdElement:{mode:"ignore",created:!1,id:null},itemElements:{show:!1,id:null,columns:[],controller:"",itemObject:"",primaryId:"",foreignId:"",title:"",url:"",data:[]},availableElements:[],imageContainer:{show:!1,item:{}},selectedIds:[],isItemsViewRefreshed:!1,detailsDialog:!1,item:{},itemIdColumn:"",childItemsMapping:[],childItems:{},apiUrl:b.url,apiPath:b.path};var y=v,x=i("0dfe");const w=e=>{let t=[];for(let i of e)i&&t.push(i);return t.join("/")},k={path:e=>t=>{let i;return i=void 0!==e.paths[t]?e.paths[t]:(null!=e.prefix?`${e.prefix}/`:"")+e.path,i},itemCreated:e=>e.createdElement.created,itemsList:e=>(t,i,a,s,o)=>{const n=e.items.map(e=>Object(x["c"])(e,t,i,a,s,o));return n},item:e=>e.item,childrenList:e=>(t,i,a,s,o)=>{const n=e.childItems[s],r=n.items||[],l=r.map(e=>Object(x["c"])(e,t,i,a,[],o));return l},filesPath:e=>{return w([e.apiUrl,e.apiPath.storage])},uploadPath:e=>{return w([e.apiUrl,e.apiPath.prefix,e.apiPath.upload])}};var _=k;const $={setPrefix(e,t){e.prefix=t},setPath(e,t){e.path=t},setPaths(e,t){e.paths=t},setItemsViewType(e,t){e.itemsViewType=t,e.isItemsViewFlat="table"===t},setItems(e,t){e.items=t,e.loading=!1},setLoadingStatus(e,t){e.loading=t},setItemsServerSide(e,t){e.items=t.data,e.totalItems=t.total,e.loading=!1},resetItems(e){e.items=[],e.currentItemId=null,e.currentItemIndex=null},setSelectedIds(e,t){e.selectedIds=t.map(e=>e.meta.id)},setCurrentItem(e,t){e.currentItemId=t.id,e.currentItemIndex=t.index},moveItem(e,[t,i]){e.moveItemRun=i,e.moveItemDirection=t},setNextItem(e,t){e.previousItem=t},setDetailsLoader(e,t){e.detailsLoading=t},setItem(e,t){e.details.item=t},resetItem(e){e.details.item={}},editItemDialog(e,t){e.details.action="edit",e.details.id=t,e.details.formValid=!0,e.details.show=!0},createItemDialog(e){e.details.action="create",e.details.formValid=!1,e.details.show=!0},multipleEditDialog(e){e.details.action="multiedit",e.details.formValid=!0,e.details.show=!0},setCreationMode(e,t){e.createdElement.mode=t},setCreatedItemStatus(e,[t,i]){e.createdElement.created=t,e.createdElement.id=i},setItemElements(e,t){e.itemElements.data=t},resetItemElements(e){e.itemElements.data=[]},setItemElementsInfo(e,[t,i]){e.itemElements.id=t,e.itemElements.title=i.title,e.itemElements.url=i.url,e.itemElements.columns=i.columns,e.itemElements.controller=i.controller,e.itemElements.itemObject=i.itemObject,e.itemElements.primaryId=i.primaryId,e.itemElements.foreignId=i.foreignId,e.itemElements.connectionKeyName=i.connectionKeyName,e.itemElements.dictionaryKeyName=i.dictionaryKeyName,e.itemElements.show=!0},openImageContainer(e,t){e.imageContainer.item=t,e.imageContainer.show=!0},closeImageContainer(e){e.imageContainer.show=!1,e.imageContainer.item={}},refreshTable(e,t){e.isItemsViewRefreshed=t},showItemDetailsDialog(e){e.detailsDialog=!0},hideItemDetailsDialog(e){e.detailsDialog=!1},setChildItemsMapping(e,t){e.childItemsMapping=t;for(const i of t)a["a"].set(e.childItems,i.name,{items:[],details:{show:!1,id:null,action:null,formValid:!1,item:{}}})},setIdColumn(e,t){e.itemIdColumn=t},itemDetails(e,t){e.item=t;for(const i of e.childItemsMapping){const t=e.childItems[i.name];t.items=e.item[i.objName],a["a"].set(e.childItems,i.name,t)}},editChildDialog(e,[t,i]){const s=e.childItems[i];s.details.action="edit",s.details.id=t,s.details.formValid=!0,s.details.show=!0,a["a"].set(e.childItems,i,s)},createChildDialog(e,t){const i=e.childItems[t];i.details.action="create",i.details.formValid=!0,i.details.show=!0,a["a"].set(e.childItems,t,i)},hideChildDialog(e,t){const i=e.childItems[t];i.details.show=!1,a["a"].set(e.childItems,t,i)},resetChild(e,t){const i=e.childItems[t];i.details.item={},a["a"].set(e.childItems,t,i)},setChild(e,[t,i]){const s=e.childItems[i];s.details.item=t,a["a"].set(e.childItems,i,s)}};var I=$;const C={getItems({commit:e,getters:t,dispatch:i}){e("setLoadingStatus",!0),a["a"].http.get(t.path("i")).then(t=>{e("setItems",t.body),e("setLoadingStatus",!1)},e=>{i("openAlertBox",["alertError",e.statusText],{root:!0})})},getItemsServerSide({commit:e,getters:t,dispatch:i},[s]){return new Promise((o,n)=>{e("setLoadingStatus",!0),a["a"].http.post(`${t.path("i")}/search`,s).then(t=>{e("setItemsServerSide",t.body),o()},e=>{i("openAlertBox",["alertError",e.statusText],{root:!0}),n(e)})})},getItem({commit:e,getters:t,dispatch:i},[s]){return new Promise((o,n)=>{e("setDetailsLoader",!0),a["a"].http.get(`${t.path("sh")}/${s}`).then(t=>{e("setItem",t.body),e("setDetailsLoader",!1),o()},e=>{i("openAlertBox",["alertError",e.statusText],{root:!0}),n(e)})})},updateItem({getters:e,dispatch:t},[i,s,o,n]){return new Promise((r,l)=>{a["a"].http.put(`${e.path("u")}/${i}`,s).then(e=>{0===e.body.status?(t("openAlertBox",["alertSuccess",o],{root:!0}),t("runItemsViewRefreshing"),r()):-1===e.body.status?t("openAlertBox",["alertError",e.body.msg],{root:!0}):-2===e.body.status&&t("openAlertBox",["alertValidationError",e.body.msg],{root:!0})},e=>{t("openAlertBox",["alertError",n],{root:!0}),l(e)})})},storeItem({commit:e,state:t,getters:i,dispatch:s},[o,n,r]){return new Promise((l,d)=>{a["a"].http.post(i.path("st"),o).then(i=>{0===i.body.status?(s("openAlertBox",["alertSuccess",n],{root:!0}),s("runItemsViewRefreshing"),l()):-1===i.body.status?s("openAlertBox",["alertError",i.body.msg],{root:!0}):-2===i.body.status&&s("openAlertBox",["alertValidationError",i.body.msg],{root:!0}),"inform"===t.createdElement.mode&&(console.log("response id",i.body.id),e("setCreatedItemStatus",[!0,i.body.id]))},e=>{s("openAlertBox",["alertError",r],{root:!0}),d(e)})})},deleteItem({getters:e,dispatch:t},[i,s,o]){a["a"].http.delete(`${e.path("d")}/${i}`).then(()=>{t("openAlertBox",["alertSuccess",s],{root:!0}),t("runItemsViewRefreshing")},()=>{t("openAlertBox",["alertError",o],{root:!0})})},mulitipleItemsUpdate({getters:e,dispatch:t},[i,s,o]){a["a"].http.post(`${e.path("mu")}/multiple-update`,i).then(()=>{t("openAlertBox",["alertSuccess",s],{root:!0}),t("runItemsViewRefreshing")},()=>{t("openAlertBox",["alertError",o],{root:!0})})},mulitipleItemsDelete({getters:e,dispatch:t},[i,s,o]){a["a"].http.post(`${e.path("md")}/multiple-delete`,i).then(()=>{t("openAlertBox",["alertSuccess",s],{root:!0}),t("runItemsViewRefreshing")},()=>{t("openAlertBox",["alertError",o],{root:!0})})},getItemElements({commit:e,state:t}){const i=t.itemElements.url.replace("{id}",t.itemElements.id);a["a"].http.get(i).then(t=>e("setItemElements",t.body))},addItemElement({dispatch:e,state:t},[i,s,o]){a["a"].http.post(t.itemElements.controller,i).then(()=>{e("openAlertBox",["alertSuccess",s],{root:!0}),e("getItemElements")},()=>{e("openAlertBox",["alertError",o],{root:!0})})},removeItemElement({dispatch:e,state:t},[i,s,o]){a["a"].http.delete(`${t.itemElements.controller}/${i}`).then(()=>{e("openAlertBox",["alertSuccess",s],{root:!0}),e("getItemElements")},()=>{e("openAlertBox",["alertError",o],{root:!0})})},addManyItemElements({dispatch:e,state:t},[i,s,o]){a["a"].http.post(`${t.itemElements.controller}/multiple-add`,i).then(()=>{e("openAlertBox",["alertSuccess",s],{root:!0}),e("getItemElements")},()=>{e("openAlertBox",["alertError",o],{root:!0})})},removeManyItemElements({dispatch:e,state:t},[i,s,o]){a["a"].http.post(`${t.itemElements.controller}/multiple-delete`,i).then(()=>{e("openAlertBox",["alertSuccess",s],{root:!0}),e("getItemElements")},()=>{e("openAlertBox",["alertError",o],{root:!0})})},getItemDetails({commit:e,getters:t,dispatch:i},[s]){return new Promise((o,n)=>{e("setDetailsLoader",!0),a["a"].http.get(`${t.path("sh")}/${s}`).then(t=>{e("itemDetails",t.body),e("setDetailsLoader",!1),o()},e=>{i("openAlertBox",["alertError",e.statusText],{root:!0}),n(e)})})},updateItemDetail({dispatch:e,state:t,getters:i},[s,o,n]){a["a"].http.put(`${i.path("u")}/${s}`,o).then(i=>{0===i.body.status?e("openAlertBox",["alertSuccess",n],{root:!0}):-1===i.body.status?e("openAlertBox",["alertError",i.body.msg],{root:!0}):-2===i.body.status&&e("openAlertBox",["alertValidationError",i.body.msg],{root:!0}),e("getItemDetails",[t.item[t.itemIdColumn]])},t=>{e("openAlertBox",["alertError",t.statusText],{root:!0})})},updateChild({dispatch:e,state:t},[i,s,o,n]){return new Promise((r,l)=>{a["a"].http.put(`${n}/${i}`,s).then(i=>{0===i.body.status?(e("openAlertBox",["alertSuccess",o],{root:!0}),r()):-1===i.body.status?e("openAlertBox",["alertError",i.body.msg],{root:!0}):-2===i.body.status&&e("openAlertBox",["alertValidationError",i.body.msg],{root:!0}),e("getItemDetails",[t.item[t.itemIdColumn]])},t=>{e("openAlertBox",["alertError",t.statusText],{root:!0}),l(t)})})},deleteChild({dispatch:e,state:t},[i,s,o,n]){a["a"].http.delete(`${n}/${i}`).then(i=>{0===i.body.status?e("openAlertBox",["alertSuccess",s],{root:!0}):-1===i.body.status?e("openAlertBox",["alertError",i.body.msg],{root:!0}):-2===i.body.status&&e("openAlertBox",["alertValidationError",i.body.msg],{root:!0}),e("getItemDetails",[t.item[t.itemIdColumn]])},()=>{e("openAlertBox",["alertError",o],{root:!0})})},storeChild({dispatch:e,state:t},[i,s,o]){return new Promise((n,r)=>{a["a"].http.post(o,i).then(i=>{0===i.body.status?(e("openAlertBox",["alertSuccess",s],{root:!0}),n()):-1===i.body.status?e("openAlertBox",["alertError",i.body.msg],{root:!0}):-2===i.body.status&&e("openAlertBox",["alertValidationError",i.body.msg],{root:!0}),e("getItemDetails",[t.item[t.itemIdColumn]])},t=>{e("openAlertBox",["alertError",t.statusText],{root:!0}),r(t)})})},getChild({commit:e,dispatch:t},[i,s,o]){return new Promise((n,r)=>{a["a"].http.get(`${s}/${i}`).then(t=>{e("setChild",[t.body,o]),n()},e=>{t("openAlertBox",["alertError",e.statusText],{root:!0})})})},runItemsViewRefreshing({commit:e}){e("refreshTable",!0),setTimeout(()=>{e("refreshTable",!1)},2e3)}};var E=C;const T={namespaced:!0,state:y,getters:_,mutations:I,actions:E};var S=T;const P={logged:0,user:localStorage.getItem("user"),token:localStorage.getItem("token"),permissions:localStorage.getItem("permissions"),userUpdated:!1,userPasswordUpdated:!1,userPasswordUpdateError:!1,userPasswordUpdateErrorMsg:"",loginWait:!1,loginFailed:!1};var M=P;const j={isLogged:e=>e.logged,userPermissions:e=>JSON.parse(e.permissions)||[],checkPermission:(e,t)=>e=>{const i=!!(void 0===e||t.userPermissions.filter(t=>t===e).length>0);return i},userInfo:e=>{return JSON.parse(e.user)||{active:null,email:null,name:null}},userUpdated:e=>e.userUpdated,userPasswordUpdated:e=>e.userPasswordUpdated,userPasswordUpdateError:e=>e.userPasswordUpdateError,userPasswordUpdateErrorMsg:e=>e.userPasswordUpdateErrorMsg};var V=j;const O={login(e,t){e.logged=1,e.loginFailed=!1;const{token:i}=t,a=JSON.stringify(t.user),s=JSON.stringify(t.permissions);localStorage.setItem("token",i),localStorage.setItem("user",a),localStorage.setItem("permissions",s),e.token=i,e.user=a,e.permissions=s},loginWait(e,t){e.loginWait=t},loginFailed(e){e.loginFailed=!0},logout(e){e.loginWait=!1,e.loginFailed=!1,e.logged=0,e.user=null,e.token=null,e.permissions=null,localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("permissions")},editUser(e,t){const i=JSON.stringify(t);localStorage.setItem("user",i),e.user=i,e.userUpdated=!0,setTimeout(()=>{e.userUpdated=!1},3e3)},editPassword(e,t){1===t.status?(e.userPasswordUpdated=!0,setTimeout(()=>{e.userPasswordUpdated=!1},3e3)):-1===t.status&&(e.userPasswordUpdateError=!0,e.userPasswordUpdateErrorMsg=t.msg,setTimeout(()=>{e.userPasswordUpdateError=!1},3e3))},refreshToken(e,t){const{token:i}=t;localStorage.setItem("token",i),e.token=i}};var F=O,B={api:"http://crm-api.id-a.pl/api",prefix:"auth",paths:{login:"login",logout:"logout",getUser:"user",refreshToken:"refresh-token",editUser:"user",changePassword:"user-password"},loginWithEmail:!0,loginFieldName:"email",loginEditable:!0,loginMinLength:4,loginMaxLength:100,loginRegex:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,passwordFieldName:"password",passwordEditable:!0,passwordMinLength:1,passwordMaxLength:100,customFields:[{name:"name",regex:/^.{0,100}$/,editable:!0,minLength:0,maxLength:100,required:!0}]};const D=e=>{let t=[];return B.api?t.push(B.api):(t.push(b.url),b.path.prefix&&t.push(b.path.prefix)),B.prefix&&t.push(B.prefix),t.push(e),t.join("/")},L={login({commit:e},t){return e("loginWait",!0),new Promise(i=>{const s=B.paths.login||"login";a["a"].http.post(D(s),t).then(e=>e.json()).then(t=>{e("login",t),i()}).catch(()=>{e("loginWait",!1),e("loginFailed")})})},logout({commit:e}){return new Promise(t=>{const i=B.paths.logout||"logout";a["a"].http.post(D(i)).then(e=>e.json()).then(()=>{e("logout"),t()})})},getUser({commit:e}){return new Promise(t=>{const i=B.paths.getUser||"user";a["a"].http.get(D(i)).then(e=>e.json()).then(i=>{[400,401,403].includes(i.status)&&e("logout"),t()})})},refreshToken({commit:e},t){const i=B.paths.refreshToken||"refresh-token";a["a"].http.post(D(i)).then(e=>e.json()).then(t=>{e("refreshToken",t)})},editUser({commit:e,dispatch:t},i){const s=B.paths.editUser||"user";a["a"].http.post(D(s),i).then(t=>{let i=t.body;e("editUser",i)},e=>{t("openAlertBox",["alertError",e.statusText],{root:!0})})},editPassword({commit:e,dispatch:t},i){const s=B.paths.changePassword||"password";a["a"].http.post(D(s),i).then(t=>{let i=t.body;e("editPassword",i)},e=>{t("openAlertBox",["alertError",e.statusText],{root:!0})})}};var A=L;const N={namespaced:!0,state:M,getters:V,mutations:F,actions:A};var z=N;const R={module:null,page:null,activeModule:"",profileDialog:!1,isNavigationDrawerDisplayed:!1};var U=R;const q={lng:e=>null!=e.locale?e.locale:e.defaultLocale};var H=q;const W={openProfileDialog(e){e.profileDialog=!0},setModule(e,t){e.module=t},setPage(e,t){e.page=t},showNavigationDrawer(e){e.isNavigationDrawerDisplayed=!0},hideNavigationDrawer(e){e.isNavigationDrawerDisplayed=!1}};var Z=W;const K={};var J=K;const G={namespaced:!0,state:U,getters:H,mutations:Z,actions:J};var Y=G;let Q={};var X=Q;let ee={};var te=ee;let ie={};var ae=ie;let se={};var oe=se;let ne={namespaced:!0,state:X,getters:te,mutations:ae,actions:oe};var re=ne;let le={};var de=le;let ce={};var me=ce;let ue={};var pe=ue;let he={};var fe=he;let ge={namespaced:!0,state:de,getters:me,mutations:pe,actions:fe};var be=ge,ve={administration:re,crm:be};const ye={crud:S,auth:z,app:Y},xe=Object.assign(ve,ye);a["a"].use(o["a"]);var we=new o["a"].Store({modules:xe,state:c,getters:u,mutations:h,actions:g}),ke={updated:"Zaktualizowano",updateError:"Błąd! Aktualizacja nie powiodła się",stored:"Dodano",storeError:"Błąd! Nie udało się dodać rekordu",suspended:"Zawieszono",suspendError:"Błąd! nie udało się zawiesić rekordu",restored:"Przywrócono",restoreError:"Błąd! Nie udało się przywrócić rekordu",deleted:"Usunięto",deleteError:"Błąd! Nie udało się usunąć rekordu",added:"Dodano",addError:"Błąd! Nie udało się dodać elementu",removed:"Usunięto",removeError:"Błąd! Nie udało się usunąć elementu",confirm:"Czy na pewno chcesz to zrobić?"},_e={home:{name:"Strona główna"},crm:{name:"CRM",companies:"Firmy",people:"Osoby",positions:"Stanowiska",companyTypes:"Typy firm",companyCommentTypes:"Firmy - typy komentarzy",personCommentTypes:"Osoby - typy komentarzy",companyComments:"Firmy - komentarze",personComments:"Osoby - komentarze",positionTasks:"Stanowiska - zadania",tasks:"Zadania",companyFiles:"Firmy - pliki",personFiles:"Osoby - pliki"},admin:{name:"Administracja",permissions:"Uprawnienia",users:"Użytkownicy",userPermissions:"Użytkownicy - uprawnienia"}},$e={title:"Vue CRUD",login:"E-mail",username:"Nazwa użytkownika",password:"Hasło",failed:"Próba zalogowania nie powiodła się",submit:"Zaloguj",passwordRequired:"Hasło jest wymagane",incorrectPassword:"Hasło ma niepoprawny format",loginRequired:"Adres e-mail jest wymagany",incorrectLogin:"E-mail ma niepoprawny format"},Ie={title:"Profil Użytkownika",close:"Zamknij",rules:{required:"Pole jest wymagane",min:"Pole musi mieć przynajmniej",max:"Pole musi mieć maksymalnie",characters:"znaków",fieldIncorrect:"Pole jest niepoprawne",loginIncorrect:"E-mail jest niepoprawny",passwordIncorrect:"Hasło jest niepoprawne",passwordMustDiffer:"Nowe hasło musi się różnić od poprzedniego",passwordMustBeSame:"Hasła nie mogą się różnić"},user:{login:"Adres e-mail",name:"Nazwa Użytkownika",restore:"Przywróć",save:"Zapisz",updated:"Dane użytkownika zostały zaktualizowane"},password:{old:"Stare hasło",new:"Nowe hasło",repeat:"Powtórz hasło",updated:"Hasło zostało zaktualizowane",updateError:"Wystąpił błąd. Hasło nie zostało zaktualizowane",clear:"Wyczyść",change:"Zmień hasło"}},Ce={filterModes:{label:"Tryb",options:{like:"Zawiera",equals:"Jest równe",list:"Lista"}},noItemsSelected:"Nie wybrano żadnego elementu",confirm:"Czy na pewno chcesz to zrobić?",fields:{action:"Akcja",status:"Status"},status:{title:"Statusy",active:"Aktywne",inactive:"Nieaktywne"},searchByColumns:"Szukaj w wybranych kolumnach",search:"Szukaj",noMatchingResults:"Nie znaleziono pasujących rekordów",noDataAvailable:"Brak danych",rowsPerPageText:"Rekordów na stronę:",records:"Rekordy",page:"Strona",from:"z",add:"Dodaj",all:"Wszystko",buttons:{edit:"Edytuj",suspend:"Zawieś",restore:"Przywróć",delete:"Usuń",editSelected:"Edytuj zaznaczone",suspendSelected:"Zawieś zaznaczone",restoreSelected:"Przywróć zaznaczone",deleteSelected:"Usuń zaznaczone",download:"Pobierz",show:"Pokaż",refreshTable:"Odswież tabelę",copyToExcel:"Kopiuj do Excela",clearFilters:"Wyczyść filtry"}},Ee={multipleUpdateTitle:"Aktualizacja wielu rekordów",title:"Szczegóły",rules:{required:"Pole jest wymagane",atLeast:"Pole musi mieć przynajmniej",less:"Pole musi mieć mniej niż",more:"Pole musi mieć więcej niż",characters:"znaków",emailMustBeValid:"E-mail musi mieć poprawny format",passwordMustDiffer:"Nowe hasło musi się różnić od poprzedniego",passwordMustBeSame:"Hasła nie mogą się różnić"},alerts:{updated:"Zaktualizowano",updateError:"Błąd! Aktualizacja nie powiodła się",stored:"Dodano",storeError:"Błąd! Nie udało się dodać rekordu"},buttons:{create:"Utwórz",modify:"Modyfikuj",modifySelected:"Modyfikuj wybrane rekordy",close:"Zamknij"},files:{upload:"Wgraj plik",show:"Pokaż",download:"Pobierz"}},Te={available:"Dostępne",selected:"Wybrane",noItemsSelected:"Nie wybrano żadnego elementu",confirm:"Czy na pewno chcesz to zrobić?",fields:{action:"Akcja",name:"Nazwa",added:"Dodano"},status:{title:"Status",added:"Dodane",noAdded:"Nie dodane"},search:"Szukaj",noMatchingResults:"Nie znaleziono pasujących rekordów",noDataAvailable:"Brak danych",rowsPerPageText:"Rekordów na stronę:",records:"Rekordy",from:"z",add:"Dodaj",all:"Wszystko",buttons:{remove:"Usuń",add:"Dodaj",removeMany:"Usuń wiele",addMany:"Dodaj wiele",close:"Zamknij"}},Se={global:{alerts:ke,routes:_e,login:$e,profile:Ie,datatable:Ce,details:Ee,itemElements:Te}},Pe={updated:"Updated",updateError:"Error! Update unsuccessful",stored:"Stored",storeError:"Error! Store unsuccessful",suspended:"Suspended",suspendError:"Error! Suspend unsuccessful",restored:"Restored",restoreError:"Error! Restore unsuccessful",deleted:"Deleted",deleteError:"Error! Delete unsuccessful",added:"Added",addError:"Error! Add unsuccessful",removed:"Removed",removeError:"Error! Remove unsuccessful",confirm:"Are you sure?"},Me={home:{name:"Home page"},crm:{name:"CRM",companies:"Companies",people:"People",positions:"Positions",companyTypes:"Company Types",companyCommentTypes:"Companies - comment types",personCommentTypes:"People - comment types",companyComments:"Companies - comments",personComments:"People - comments",positionTasks:"Positions - tasks",tasks:"Tasks",companyFiles:"Companies - files",personFiles:"People - files"},admin:{name:"Administration",permissions:"Permissions",users:"Users",userPermissions:"Users - permissions"}},je={title:"Vue CRUD",login:"E-mail",username:"Username",password:"Password",failed:"Login attempt unsuccessful",submit:"Submit",passwordRequired:"Password is required",incorrectPassword:"Password is incorrect",loginRequired:"E-mail is required",incorrectLogin:"E-mail format is incorrect"},Ve={title:"User Profile",close:"Close",rules:{required:"Field is required",min:"Field must have at least",max:"Field must be not longer than",characters:"characters",fieldIncorrect:"Field is incorrect",loginIncorrect:"E-mail is incorrect",passwordIncorrect:"Password is incorrect",passwordMustDiffer:"New password must be different from the old password",passwordMustBeSame:"Old and new password can't be different"},user:{login:"E-mail address",name:"User name",restore:"Restore",save:"Save",updated:"User data has been updated"},password:{old:"Old password",new:"New password",repeat:"Repeat password",updated:"Password has been updated",updateError:"Password update error",clear:"Clear",change:"Change passowrd"}},Oe={filterModes:{label:"Mode",options:{like:"Like",equals:"Equals",list:"List"}},noItemsSelected:"No items selected",confirm:"Are you sure?",fields:{action:"Action",status:"Status"},status:{title:"Statuses",active:"Active",inactive:"Inactive"},searchByColumns:"Search by fields",search:"Search",noMatchingResults:"No matching records found",noDataAvailable:"No data available",rowsPerPageText:"Rows per page:",records:"Records",page:"Page",from:"from",add:"Add",all:"All",buttons:{edit:"Edit",suspend:"Suspend",restore:"Restore",delete:"Delete",editSelected:"Edit selected",suspendSelected:"Suspend selected",restoreSelected:"Restore selected",deleteSelected:"Delete selected",download:"Download",show:"Show",refreshTable:"Refresh table",copyToExcel:"Copy to Excel",clearFilters:"Clear filters"}},Fe={multipleUpdateTitle:"Multiple records update",title:"Details",rules:{required:"Field is required",atLeast:"Field must be at least",less:"Field must be less than",more:"Pole musi mieć more than",characters:"characters",emailMustBeValid:"E-mail must be valid",passwordMustDiffer:"New password must be different from the old password",passwordMustBeSame:"Password can't be different"},alerts:{updated:"Updated",updateError:"Error! Update unsuccessful",stored:"Dodano",storeError:"Error! Store unsuccessful"},buttons:{create:"Create",modify:"Modify",modifySelected:"Modify selected records",close:"Close"},files:{upload:"Upload file",show:"Show",download:"Download"}},Be={available:"Available",selected:"Selected",noItemsSelected:"No items selected",confirm:"Are you sure?",fields:{action:"Action",name:"Name",added:"Added"},status:{title:"Status",added:"Added",noAdded:"No added"},search:"Search",noMatchingResults:"No matching records found",noDataAvailable:"No data available",rowsPerPageText:"Rows per page:",records:"Records",from:"from",add:"Add",all:"All",buttons:{remove:"Dalete",add:"Add",removeMany:"Delete many",addMany:"Add many",close:"Close"}},De={global:{alerts:Pe,routes:Me,login:je,profile:Ve,datatable:Oe,details:Fe,itemElements:Be}};a["a"].use(s["a"]);const Le={pl:Se,en:De};var Ae=new s["a"]({locale:we.getters.lng,messages:Le}),Ne=i("8c4f"),ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("sidebar",{attrs:{items:e.sidebarItems,"expand-on":"click","lock-sidebar-btn":!0,title:e.$store.state.title,"title-link":"/home","show-logo":!0,logo:"vue-crud-avatar.png","sidebar-color":"primary","sidebar-dark":!0,"title-color":"white","title-dark":!1,"nav-color":"secondary"}},[i("template",{slot:"nav"},[i("v-list-item-action",[i("v-icon",{attrs:{color:"secondary"}},[e._v("person")])],1),i("v-list-item-title",{staticClass:"white--text"},[e._v(e._s(e.userInfo.name))])],1)],2),i("toolbar",{attrs:{"profile-btn":e.profile,"locales-btn":!0,"logout-btn":!0,color:"primary",dark:!0}},[i("template",{slot:"left"},[i("div",{staticClass:"headline d-none d-md-inline"},[null!=e.$store.state.app.module?[e._v("\n            "+e._s(e.$t("global.routes."+e.$store.state.app.module))+"\n        ")]:e._e(),null!=e.$store.state.app.page?[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("forward")]),e._v("\n            "+e._s(e.$t("global.routes."+e.$store.state.app.page))+"\n        ")]:e._e()],2)])],2),i("v-content",{staticClass:"content"},[i("v-container",{staticClass:"main-container",attrs:{fluid:"","fill-height":""}},[i("v-layout",{staticStyle:{width:"100%"}},[i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"main-card",attrs:{flat:""}},[i("v-card-text",{staticClass:"content-container"},[i("router-view",{staticStyle:{margin:"0 auto"}}),i("alert-box")],1)],1)],1)],1)],1)],1),e.footer?i("footnote",{attrs:{color:"secondary",dark:!0}},[i("template",{slot:"left"},[i("a",{staticStyle:{color:"white","text-decoration":"none"},attrs:{href:"https://vue-crud.github.io/",target:"_blank"}},[i("v-icon",{attrs:{color:"white"}},[e._v("help")]),e._v("  vue-crud.github.io\n      ")],1)]),i("template",{slot:"center"},[e._v("\n      Your Company\n    ")]),i("template",{slot:"right"},[e._v("\n      Ⓒ "+e._s(e.year)+"\n    ")])],2):e._e(),i("back-top"),e.profile?i("profile"):e._e()],1)},Re=[],Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:function(t){return e.click()},mouseover:function(t){return e.mouseover()},mouseleave:function(t){return e.mouseleave()}}},[a("v-navigation-drawer",{staticClass:"main-sidebar",class:e.sidebarColor,attrs:{permanent:e.isAppLarge,"mini-variant":e.sidebarMini,dark:e.sidebarDark,fixed:"",app:""},model:{value:e.isDisplayed,callback:function(t){e.isDisplayed=t},expression:"isDisplayed"}},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:e.titleLink}},[""!==e.title||e.showLogo?a("v-toolbar",{class:e.titleColor},[a("v-list",[a("v-list-item",{staticStyle:{padding:"0"}},[e.showLogo?a("v-list-item-avatar",{staticStyle:{"margin-right":"20px"},attrs:{size:e.logoSize,tile:""}},[e.showLogo?a("img",{staticClass:"logo",attrs:{src:i("7584")("./"+e.logo)}}):e._e()]):e._e(),a("v-list-item-title",{staticClass:"title",class:e.titleDark?"white--text":"black--text"},[e._v("\n            "+e._s(e.title)+"\n          ")])],1)],1)],1):e._e()],1),a("v-divider"),a("v-list",{staticClass:"pa-1",class:e.navColor+"--text"},[e.sidebarMini&&e.lockSidebarBtn&&!e.locked?a("v-list-item",{attrs:{ripple:!1},on:{click:function(t){return t.stopPropagation(),e.toggleLock(t)}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:""!==e.navColor?e.navColor:e.sidebarDark?"white":"black"}},[e._v("chevron_right")])],1)],1):e._e(),e.sidebarMini?e._e():a("v-list-item",[e._t("nav"),e.lockSidebarBtn&&e.locked&&e.isAppLarge?a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleLock(t)}}},[a("v-icon",{attrs:{color:""!==e.navColor?e.navColor:e.sidebarDark?"white":"black"}},[e._v("chevron_left")])],1)],1):e._e()],2)],1),e._t("over"),a("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[e.checkPermission(t.guard)?a("v-list-group",{key:t.text,attrs:{"prepend-icon":t.icon,"append-icon":"","active-class":e.sidebarDark?"white--text":"black--text"},model:{value:t.model,callback:function(i){e.$set(t,"model",i)},expression:"item.model"}},[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[e._v("\n              "+e._s(e.$t("global.routes."+t.text))+"\n            ")])],1),t.icon?a("v-list-item-action",[a("v-icon",[e._v(e._s(t.model?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):e._e()],1),e.$store.state.sidebarMini?e._e():e._l(t.children,(function(i,s){return a("v-list-item",{key:s,staticClass:"link",attrs:{href:"#"+t.route+i.route}},[i.icon?a("v-list-item-action",[a("v-icon",[e._v(e._s(i.icon))])],1):e._e(),a("v-list-item-content",[a("v-list-item-title",[e._v("\n                "+e._s(e.$t("global.routes."+i.text))+"\n              ")])],1)],1)}))],2):e._e()]}))],2),e._t("under")],2)],1)},qe=[],He={props:{source:String,title:{type:String,default:""},titleLink:{type:String,default:"/"},showLogo:{type:Boolean,default:!0},logo:{type:String,default:"vue-crud-avatar.png"},logoSize:{type:Number,default:50},navColor:{type:String,default:""},titleColor:{type:String,default:"secondary"},titleDark:{type:Boolean,default:!0},sidebarColor:{type:String,default:"white"},sidebarDark:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},expandOn:{type:String,default:"mouseover",validator(e){return-1!==["click","mousover"].indexOf(e)}},lockSidebarBtn:{type:Boolean,default:!0}},data:()=>({setSidebarMini:!1,dialog:!1,locked:!1,expanded:!1,isDisplayed:!1}),computed:{...Object(o["e"])("app",["isNavigationDrawerDisplayed"]),...Object(o["c"])("auth",["checkPermission"]),sidebarMini(){return!(this.locked||!this.isAppLarge)&&!this.expanded},breakpoint(){return this.$vuetify.breakpoint.name},isAppLarge(){return["xl","lg"].includes(this.breakpoint)}},methods:{...Object(o["d"])("app",["toggleSidebarWidth","setSidebarWidth","hideNavigationDrawer"]),toggleLock(){this.locked=!this.locked,localStorage.setItem("sidebarLocked",this.locked),this.expanded=this.locked},click(){this.sidebarMini&&"click"===this.expandOn&&!this.locked&&this.isAppLarge&&(this.expanded=!0)},mouseover(){this.sidebarMini&&"mouseover"===this.expandOn&&this.locked&&this.isAppLarge&&(this.expanded=!0)},mouseleave(){!this.locked&&this.isAppLarge&&(this.expanded=!1)}},created(){this.locked=JSON.parse(localStorage.getItem("sidebarLocked"))||!1},watch:{expanded(e){if(!e)for(const t of this.items)t.model=!1},isNavigationDrawerDisplayed(e){e&&(this.isDisplayed=e)},isDisplayed(e){e||this.hideNavigationDrawer()}}},We=He,Ze=i("2877"),Ke=i("6544"),Je=i.n(Ke),Ge=i("8336"),Ye=i("ce7e"),Qe=i("132d"),Xe=i("8860"),et=i("56b0"),tt=i("da13"),it=i("1800"),at=i("8270"),st=i("5d23"),ot=i("f774"),nt=i("71d9"),rt=Object(Ze["a"])(We,Ue,qe,!1,null,null,null),lt=rt.exports;Je()(rt,{VBtn:Ge["a"],VDivider:Ye["a"],VIcon:Qe["a"],VList:Xe["a"],VListGroup:et["a"],VListItem:tt["a"],VListItemAction:it["a"],VListItemAvatar:at["a"],VListItemContent:st["a"],VListItemTitle:st["b"],VNavigationDrawer:ot["a"],VToolbar:nt["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{staticClass:"toolbar",attrs:{dark:e.dark,color:e.color,fixed:"",app:""}},[a("v-app-bar-nav-icon",{staticClass:"d-lg-none",on:{click:function(t){return t.stopPropagation(),e.showNavigationDrawer()}}}),e._t("left"),a("v-spacer"),a("router-link",{attrs:{to:e.titleLink}},[e.showLogo?a("img",{staticClass:"toolbar__logo",attrs:{src:i("7584")("./"+e.logo)}}):e._e()]),a("router-link",{attrs:{to:e.titleLink}},[a("v-toolbar-title",{staticClass:"toolbar__title"},[e._v("\n      "+e._s(e.title)+"\n    ")])],1),a("v-spacer"),e._t("right"),e.localesBtn?a("v-menu",{attrs:{"menu-props":"bottom",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{icon:"",dark:"",fab:""}},i),[a("v-icon",[e._v("translate")])],1)]}}],null,!1,2237435861)},[a("v-list",e._l(e.locales,(function(t,i){return a("v-list-item",{key:i,on:{click:function(i){return e.changeLocale(t.name)}}},[a("v-list-item-title",[e._v("\n          "+e._s(t.text)+"\n        ")])],1)})),1)],1):e._e(),e.profileBtn?a("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.openProfileDialog(t)}}},[a("v-icon",[e._v("perm_identity")])],1):e._e(),e.logoutBtn?a("a",{staticClass:"toolbar__logout-button",on:{click:function(t){return e.logoutAttempt()}}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("power_settings_new")])],1)],1):e._e()],2)},ct=[],mt={name:"navbar-top",props:{title:{type:String,default:""},titleLink:{type:String,default:"/"},showLogo:{type:Boolean,default:!1},logo:{type:String,default:"vue-crud-sm.png"},color:{type:String,default:"primary"},dark:{type:Boolean,default:!0},profileBtn:{type:Boolean,default:!0},localesBtn:{type:Boolean,default:!0},logoutBtn:{type:Boolean,default:!0}},data(){return{}},computed:{...Object(o["e"])(["locales"])},methods:{...Object(o["b"])("auth",["logout"]),...Object(o["d"])(["setLocale"]),...Object(o["d"])("app",["openProfileDialog","showNavigationDrawer"]),changeLocale(e){this.$i18n.locale=e,this.$vuetify.lang.current=e,this.setLocale(e)},logoutAttempt(){this.logout().then(()=>{this.$router.push({path:"/login"})})}}},ut=mt,pt=(i("5b29"),i("40dc")),ht=i("5bc1"),ft=i("e449"),gt=i("2fa4"),bt=i("2a7f"),vt=Object(Ze["a"])(ut,dt,ct,!1,null,"5006d499",null),yt=vt.exports;Je()(vt,{VAppBar:pt["a"],VAppBarNavIcon:ht["a"],VBtn:Ge["a"],VIcon:Qe["a"],VList:Xe["a"],VListItem:tt["a"],VListItemTitle:st["b"],VMenu:ft["a"],VSpacer:gt["a"],VToolbarTitle:bt["a"]});var xt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{"justify-center":"","align-center":""}},[i("v-alert",{staticClass:"alert",attrs:{type:e.alert.type,value:"true",transition:"scale-transition",dismissible:""},model:{value:e.alert.show,callback:function(t){e.$set(e.alert,"show",t)},expression:"alert.show"}},[i("span",{domProps:{innerHTML:e._s(e.alert.text)}})])],1)},wt=[],kt={name:"alert",computed:{...Object(o["e"])(["alert"])}},_t=kt,$t=(i("324e"),i("0798")),It=i("a722"),Ct=Object(Ze["a"])(_t,xt,wt,!1,null,"189c2753",null),Et=Ct.exports;Je()(Ct,{VAlert:$t["a"],VLayout:It["a"]});var Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-footer",{staticClass:"pa-1",class:[e.color,e.dark?"white--text":"black--text"],attrs:{app:""}},[e._t("left"),i("v-spacer"),e._t("center"),i("v-spacer"),e._t("right")],2)},St=[],Pt={name:"footnote",props:{color:{type:String,default:"secondary"},dark:{type:Boolean,default:!0}}},Mt=Pt,jt=i("553a"),Vt=Object(Ze["a"])(Mt,Tt,St,!1,null,null,null),Ot=Vt.exports;Je()(Vt,{VFooter:jt["a"],VSpacer:gt["a"]});var Ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.top>0?i("span",{on:{click:function(t){return t.preventDefault(),e.backTop(t)}}},[i("v-btn",{staticClass:"secondary",attrs:{id:"scroll",fab:"",floating:""}},[i("v-icon",{staticClass:"white--text"},[e._v("keyboard_arrow_up")])],1),e._t("default")],2):e._e()},Bt=[],Dt={name:"backTop",props:{speed:{type:Number,default:.1}},data(){return{top:0}},created(){const e=this;setInterval(()=>{e.top=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},20)},methods:{backTop(){const e=this;let{top:t}=e;const i=setInterval(()=>{t-=Math.abs(t*e.speed),t<=1&&(t=0,clearInterval(i)),document.documentElement.scrollTop=t,document.body.scrollTop=t},20);return!1}}},Lt=Dt,At=(i("6c48"),Object(Ze["a"])(Lt,Ft,Bt,!1,null,"69aafbd0",null)),Nt=At.exports;Je()(At,{VBtn:Ge["a"],VIcon:Qe["a"]});var zt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.profileDialog,callback:function(t){e.profileDialog=t},expression:"profileDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v(e._s(e.$t("global.profile.title")))])]),i("v-form",{model:{value:e.userValid,callback:function(t){e.userValid=t},expression:"userValid"}},[i("v-card-text",[i("v-alert",{attrs:{value:e.userUpdated,outlined:"",color:"success",icon:"check_circle"}},[e._v("\n            "+e._s(e.$t("global.profile.user.updated"))+"\n          ")]),i("v-text-field",{attrs:{label:e.$t("global.profile.user.login"),rules:e.loginRules,required:e.loginEditable,disabled:!e.loginEditable},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),e._l(e.customFields,(function(t){return i("v-text-field",{key:t.name,attrs:{label:t.label,rules:e.customFieldRules(t),required:t.required,disabled:!t.editable},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}})}))],2),i("v-card-actions",[i("v-btn",{staticClass:"blue--text",attrs:{text:""},on:{click:function(t){return e.getUser()}}},[e._v("\n            "+e._s(e.$t("global.profile.user.restore"))+"\n          ")]),i("v-btn",{staticClass:"green--text",attrs:{text:"",disabled:!e.userValid},on:{click:function(t){return e.editUser(e.user)}}},[e._v("\n            "+e._s(e.$t("global.profile.user.save"))+"\n          ")])],1)],1),i("v-form",{model:{value:e.passwordValid,callback:function(t){e.passwordValid=t},expression:"passwordValid"}},[i("v-card-text",[i("v-alert",{attrs:{value:e.userPasswordUpdated,outlined:"",color:"success",icon:"check_circle"}},[e._v("\n            "+e._s(e.$t("global.profile.password.updated"))+"\n          ")]),i("v-alert",{attrs:{value:e.userPasswordUpdateError,outlined:"",color:"error",icon:"warning"}},[e._v("\n            "+e._s(e.$t("global.profile.password.updateError"))+"\n            "),i("br"),e._v(" "+e._s(e.password.updateErrorMsg)+"\n          ")]),i("v-text-field",{attrs:{label:e.$t("global.profile.password.old"),rules:e.passwordRules.old,"append-icon":e.pass1?"visibility":"visibility_off",type:e.pass1?"password":"text",counter:""},on:{"click:append":function(){return e.pass1=!e.pass1}},model:{value:e.password.old,callback:function(t){e.$set(e.password,"old",t)},expression:"password.old"}}),i("v-text-field",{attrs:{label:e.$t("global.profile.password.new"),rules:e.passwordRules.new,"append-icon":e.pass2?"visibility":"visibility_off",type:e.pass2?"password":"text",counter:""},on:{"click:append":function(){return e.pass2=!e.pass2}},model:{value:e.password.new,callback:function(t){e.$set(e.password,"new",t)},expression:"password.new"}}),i("v-text-field",{attrs:{label:e.$t("global.profile.password.repeat"),rules:e.passwordRules.repeat,"append-icon":e.pass3?"visibility":"visibility_off",type:e.pass3?"password":"text",counter:""},on:{"click:append":function(){return e.pass3=!e.pass3}},model:{value:e.password.repeat,callback:function(t){e.$set(e.password,"repeat",t)},expression:"password.repeat"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"blue--text",attrs:{text:""},on:{click:function(t){return e.clearPasswords()}}},[e._v("\n            "+e._s(e.$t("global.profile.password.clear"))+"\n          ")]),i("v-btn",{staticClass:"green--text",attrs:{text:"",disabled:!e.passwordValid},on:{click:function(t){return e.editPasswordAndClear()}}},[e._v("\n            "+e._s(e.$t("global.profile.password.change"))+"\n          ")])],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"black--text",attrs:{text:""},nativeOn:{click:function(t){e.$store.state.app.profileDialog=!1}}},[e._v("\n          "+e._s(e.$t("global.profile.close"))+"\n        ")])],1)],1)],1)],1)},Rt=[],Ut={name:"profile",data:()=>({login:"",loginEditable:B.loginEditable||!0,loginFieldName:B.loginFieldName||"login",passwordValid:!1,password:{old:"",new:"",repeat:""},customFields:[],userValid:!1,pass1:!0,pass2:!0,pass3:!0,alphanumericRegex:/^[a-zA-Z0-9]+$/,emailRegex:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/}),computed:{...Object(o["e"])("app",["profileDialog"]),...Object(o["c"])("auth",["userInfo","userUpdated","userPasswordUpdated","userPasswordUpdateError","userPasswordUpdateErrorMsg"]),loginRules(){const e=B.loginMinLength||4,t=B.loginMaxLength||100,i=B.loginRegex||(B.loginWithEmail?this.emailRegex:this.alphanumericRegex);return[e=>!!e||this.$t("global.profile.rules.required"),e=>i.test(e)||this.$t("global.profile.rules.loginIncorrect"),e=>void 0===e||e.length<=t||`${this.$t("global.profile.rules.max")} ${t} ${this.$t("global.profile.rules.characters")}`,t=>void 0===t||t.length>=e||`${this.$t("global.profile.rules.min")} ${e} ${this.$t("global.profile.rules.characters")}`]},passwordRules(){const e=B.passwordMinLength||8,t=B.passwordMaxLength||100,i=B.passwordRegex||this.alphanumericRegex;return{old:[e=>!!e||this.$t("global.profile.rules.required")],new:[e=>!!e||this.$t("global.profile.rules.required"),e=>i.test(e)||this.$t("global.profile.rules.passwordIncorrect"),e=>e.length<=t||`${this.$t("global.profile.rules.max")} ${t} ${this.$t("global.profile.rules.characters")}`,t=>t.length>=e||`${this.$t("global.profile.rules.min")} ${e} ${this.$t("global.profile.rules.characters")}`,e=>e!==this.password.old||this.$t("global.profile.rules.passwordMustDiffer")],repeat:[e=>!!e||this.$t("global.profile.rules.required"),e=>i.test(e)||this.$t("global.profile.rules.passwordIncorrect"),e=>e.length<=t||`${this.$t("global.profile.rules.max")} ${t} ${this.$t("global.profile.rules.characters")}`,t=>t.length>=e||`${this.$t("global.profile.rules.min")} ${e} ${this.$t("global.profile.rules.characters")}`,e=>e===this.password.new||this.$t("global.profile.rules.passwordMustBeSame")]}},user(){let e={};e[this.loginFieldName]=this.login;for(let t of this.customFields)e[t.name]=t.value;return e}},methods:{...Object(o["b"])("auth",["editUser","editPassword"]),clearPasswords(){this.password.old="",this.password.new="",this.password.repeat=""},getUser(){const e=this.userInfo;this.login=e[this.loginFieldName];const t=B.customFields||[];this.customFields=t.map(t=>{let i=t;return i.value=e[t.name],i.label=this.$t(`global.profile.user.${t.name}`),i})},editPasswordAndClear(){this.editPassword(this.password),this.clearPasswords()},customFieldRules(e){const t=e.min||0,i=e.max||100,a=e.regex||/^.{0,100}$/,s=e.required;return[e=>!s||!!e||this.$t("global.profile.rules.required"),e=>a.test(e)||this.$t("global.profile.rules.fieldIncorrect"),e=>void 0===e||e.length<=i||`${this.$t("global.profile.rules.max")} ${i} ${this.$t("global.profile.rules.characters")}`,e=>void 0===e||e.length>=t||`${this.$t("global.profile.rules.min")} ${t} ${this.$t("global.profile.rules.characters")}`]}},created(){this.getUser()}},qt=Ut,Ht=i("b0af"),Wt=i("99d9"),Zt=i("169a"),Kt=i("4bd4"),Jt=i("8654"),Gt=Object(Ze["a"])(qt,zt,Rt,!1,null,null,null),Yt=Gt.exports;Je()(Gt,{VAlert:$t["a"],VBtn:Ge["a"],VCard:Ht["a"],VCardActions:Wt["a"],VCardText:Wt["b"],VCardTitle:Wt["c"],VDialog:Zt["a"],VForm:Kt["a"],VLayout:It["a"],VSpacer:gt["a"],VTextField:Jt["a"]});var Qt={name:"app",data:()=>({profile:!0,footer:!0,sidebarItems:[{icon:"people",text:"crm.name",model:!1,guard:"CRM",route:"/crm",children:[{text:"crm.companies",route:"/companies"},{text:"crm.companyTypes",route:"/company-types"},{text:"crm.companyFiles",route:"/company-files"},{text:"crm.companyComments",route:"/company-comments"},{text:"crm.companyCommentTypes",route:"/company-comment-types"},{text:"crm.people",route:"/people"},{text:"crm.personComments",route:"/person-comments"},{text:"crm.personCommentTypes",route:"/person-comment-types"},{text:"crm.positions",route:"/positions"},{text:"crm.positionTasks",route:"/position-tasks"},{text:"crm.tasks",route:"/tasks"}]},{icon:"person_add_disabled",text:"admin.name",model:!1,guard:"ADMIN",route:"/administration",children:[{text:"admin.users",route:"/users"},{text:"admin.permissions",route:"/permissions"},{text:"admin.userPermissions",route:"/user-permissions"}]}]}),computed:{...Object(o["c"])("auth",["isLogged","userInfo"]),year(){let e=new Date;return e.getFullYear()}},components:{Sidebar:lt,Toolbar:yt,AlertBox:Et,Footnote:Ot,BackTop:Nt,Profile:Yt}},Xt=Qt,ei=(i("2369"),i("a523")),ti=i("a75b"),ii=i("0e8f"),ai=Object(Ze["a"])(Xt,ze,Re,!1,null,"3c0a022b",null),si=ai.exports;Je()(ai,{VCard:Ht["a"],VCardText:Wt["b"],VContainer:ei["a"],VContent:ti["a"],VFlex:ii["a"],VIcon:Qe["a"],VLayout:It["a"],VListItemAction:it["a"],VListItemTitle:st["b"]});var oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{"min-height":"80vh","background-color":"white"},attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("img",{attrs:{src:i("075e"),width:"400"}})])],1)},ni=[],ri={data(){return{}},created(){this.setModule("home.name"),this.setPage(null)},methods:{...Object(o["d"])("app",["setModule","setPage"])}},li=ri,di=Object(Ze["a"])(li,oi,ni,!1,null,null,null),ci=di.exports;Je()(di,{VContainer:ei["a"],VLayout:It["a"]});var mi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("router-view")],1)},ui=[],pi={data(){return{}},created(){this.setModule("crm.name")},methods:{...Object(o["d"])("app",["setModule"])}},hi=pi,fi=Object(Ze["a"])(hi,mi,ui,!1,null,null,null),gi=fi.exports,bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("crud",{attrs:{"custom-buttons":e.buttons,prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle"),"edit-button":!1,"watch-for-creation":!0,"primary-key":"id"}}),i("item-details",{attrs:{fields:e.itemFields}})],1)},vi=[],yi=i("6461"),xi={computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),grid:"xs12 sm6 md4 lg6 xl4",name:"name",multiedit:!1},{type:"input",column:"common_name",text:this.$t("fields.commonName"),grid:"xs12 sm6 md4 lg6 xl4",name:"commonName",apiObject:{name:"common_name"},multiedit:!1},{type:"select",url:"crud/crm/company-types",list:{value:"id",text:"name",data:[]},column:"company_type_id",text:this.$t("fields.companyType"),grid:"xs12 sm6 md4 lg6 xl4",name:"companyType",apiObject:{name:"company_type.name"}},{type:"input",column:"nip",text:this.$t("fields.nip"),grid:"xs12 sm6 md4 lg6 xl4",name:"nip",create:!1,multiedit:!1,required:!1},{type:"input",column:"regon",text:this.$t("fields.regon"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"krs",text:this.$t("fields.krs"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"select",url:"crm/street-prefixes",list:{value:"id",text:"description",data:[]},column:"street_prefix_id",text:this.$t("fields.streetPrefix"),grid:"xs6 sm3 md2 lg3 xl2",name:"streetPrefix",apiObject:{name:"street_prefix.name"},create:!1,multiedit:!1,required:!1},{text:this.$t("fields.address"),name:"address",details:!1},{type:"input",column:"street",text:this.$t("fields.street"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"house_number",text:this.$t("fields.houseNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"apartment_number",text:this.$t("fields.apartmentNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"zip_code",text:this.$t("fields.zipCode"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"city",text:this.$t("fields.city"),grid:"xs12 sm6 md4 lg6 xl3",name:"city",create:!1,required:!1},{type:"input",column:"borough",text:this.$t("fields.borough"),grid:"xs12 sm6 md4 lg6 xl3",table:!1,create:!1,required:!1},{type:"input",column:"county",text:this.$t("fields.county"),grid:"xs12 sm6 md4 lg6 xl3",table:!1,create:!1,required:!1},{type:"input",column:"voivodship",text:this.$t("fields.voivodship"),grid:"xs12 sm6 md4 lg6 xl3",table:!1,create:!1,required:!1},{type:"input",column:"email",text:this.$t("fields.email"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"web_page",text:this.$t("fields.webPage"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"fax",text:this.$t("fields.fax"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"phone",text:this.$t("fields.phone"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"coordinates_lat",text:this.$t("fields.coordinatesLat"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"coordinates_lng",text:this.$t("fields.coordinatesLng"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"checkbox",column:"coordinates_checked",text:this.$t("fields.coordinatesChecked"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,required:!1},{type:"input",column:"google_map_place",text:this.$t("fields.googleMapPlace"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"select",url:"crm/street-prefixes",list:{value:"id",text:"description",data:[]},column:"correspondence_street_prefix_id",text:this.$t("fields.correspondenceStreetPrefix"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_street",text:this.$t("fields.correspondenceStreet"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_house_number",text:this.$t("fields.correspondenceHouseNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_apartment_number",text:this.$t("fields.correspondenceApartmentNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_zip_code",text:this.$t("fields.correspondenceZipCode"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_city",text:this.$t("fields.correspondenceCity"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_borough",text:this.$t("fields.correspondenceBorough"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_county",text:this.$t("fields.correspondenceCounty"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1},{type:"input",column:"correspondence_voivodship",text:this.$t("fields.correspondenceVoivodship"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,create:!1,multiedit:!1,required:!1}]}}},wi={i18n:{messages:{pl:{detailsTitle:"Firma",buttons:{goToItem:"Przejdź do firmy"},fields:{id:"Id",name:"Nazwa",commonName:"Nazwa użytkowa",companyType:"Typ firmy",nip:"NIP",regon:"REGON",krs:"KRS",streetPrefix:"Typ ulicy",street:"Ulica",houseNumber:"Nr budynku",apartmentNumber:"Nr lokalu",address:"Adres",zipCode:"Kod pocztowy",city:"Miejscowość",borough:"Gmina",county:"Powiat",voivodship:"Województwo",email:"E-mail",webPage:"Strona www",fax:"Fax",phone:"Telefon",coordinatesLat:"Szer. geograficzna",coordinatesLng:"Dł. geograficzna",coordinatesChecked:"Współrzędne sprawdzone",googleMapPlace:"Miejsce - Google Maps",parentCompany:"Nadrzędna firma",correspondenceStreetPrefix:"Typ ulicy (koresp.)",correspondenceStreet:"Ulica (koresp.)",correspondenceHouseNumber:"Nr budynku (koresp.)",correspondenceApartmentNumber:"Nr lokalu (koresp.)",correspondenceZipCode:"Kod pocztowy (koresp.)",correspondenceCity:"Miejscowość (koresp.)",correspondenceBorough:"Gmina (koresp.)",correspondenceCounty:"Powiat (koresp.)",correspondenceVoivodship:"Województwo (koresp.)",active:"Aktywna"},itemElements:{companyBusinessAreas:{title:"Obszary działalności firmy",headers:{businessArea:"Obszar działalności"}}}},en:{detailsTitle:"Company",buttons:{goToItem:"Go to company"},fields:{id:"Id",name:"Name",commonName:"Common name",companyType:"Company type",nip:"NIP",regon:"REGON",krs:"KRS",streetPrefix:"Street prefix",street:"Street",houseNumber:"House number",apartmentNumber:"Apartment number",address:"Address",zipCode:"Zip code",city:"City",borough:"Borough",county:"County",voivodship:"Voivodship",email:"E-mail",webPage:"Web page",fax:"Fax",phone:"Phone",coordinatesLat:"Coordinates - LAT.",coordinatesLng:"Coordinates - LNG.",coordinatesChecked:"Coordinates checked",googleMapPlace:"Place - Google Maps",parentCompany:"Parent company",correspondenceStreetPrefix:"Street prefix (corresp.)",correspondenceStreet:"Street (corresp.)",correspondenceHouseNumber:"House number (corresp.)",correspondenceApartmentNumber:"Apartment number (corresp.)",correspondenceZipCode:"Zip code (corresp.)",correspondenceCity:"City (corresp.)",correspondenceBorough:"Borough (corresp.)",correspondenceCounty:"County (corresp.)",correspondenceVoivodship:"Voivodship (corresp.)",active:"Aktywna"},itemElements:{companyBusinessAreas:{title:"Company business areas",headers:{businessArea:"Business areas"}}}}}}},ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("item-details-container",{attrs:{title:e.$t("title"),fields:e.fields,"basic-information":e.$t("basicInformation")}},[i("v-tab",{key:"positions",attrs:{ripple:""}},[e._v(e._s(e.$t("positions")))]),i("v-tab",{key:"comments",attrs:{ripple:""}},[e._v(e._s(e.$t("comments")))]),i("v-tab-item",{key:"positions"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("company-positions",{attrs:{exclude:["id","company"],path:"crm/positions","child-item-name":"companyPositions","fk-name":"company_id"}})],1)],1)],1),i("v-tab-item",{key:"comments"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("company-comments",{attrs:{exclude:["id","company"],path:"crm/company-comments","child-item-name":"companyComments","fk-name":"company_id"}})],1)],1)],1)],1)},_i=[],$i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition","hide-overlay":"",persistent:"","no-click-animation":""},model:{value:e.detailsDialog,callback:function(t){e.detailsDialog=t},expression:"detailsDialog"}},[i("v-card",[i("v-toolbar",{staticStyle:{"border-radius":"0"},attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[e._v(e._s(e.title))]),i("v-spacer"),i("div",{staticClass:"details-loader-container"},[e.detailsLoading?i("v-layout",{staticClass:"details-loader",attrs:{"justify-center":"","align-center":""}},[i("v-progress-circular",{attrs:{indeterminate:"",size:50,width:2,color:"white"}})],1):e._e()],1),i("v-spacer"),i("div",[e.isItemsViewFlat?[i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.previous()}}},[i("v-icon",[e._v("navigate_before")])],1),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.next()}}},[i("v-icon",[e._v("navigate_next")])],1)]:e._e(),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.refresh()}}},[i("v-icon",[e._v("refresh")])],1),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.close()}}},[i("v-icon",[e._v("close")])],1)],2)],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pa-3",attrs:{cols:"12",lg:"5"}},[i("item-details-extended",{attrs:{title:e.basicInformation,"fields-info":e.fields},scopedSlots:e._u([e._l(e.fields,(function(t){return{key:"field:"+t.name,fn:function(t){var i=t.value,a=t.fieldType,s=t.field,o=t.reload,n=t.rules,r=t.changeValue;return[e._t("item-details-field:"+s.name,null,{value:i,fieldType:a,field:s,reload:o,rules:n,changeValue:r})]}}}))],null,!0)})],1),i("v-col",{staticClass:"pa-3",attrs:{cols:"12",lg:"7"}},[i("v-tabs",{attrs:{"slider-color":"secondary"}},[e._t("default")],2)],1)],1)],1)],1)},Ii=[],Ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h4",{staticStyle:{"text-transform":"uppercase"}},[e._v(e._s(e.title))]),i("v-row",{attrs:{wrap:"","no-gutters":""}},e._l(e.fields,(function(t,a){return i("v-flex",{key:a,staticClass:"field",class:t.grid,attrs:{"pr-2":""}},["divider"==t.type?i("h3",{staticClass:"text-xs-center section-header"},[e._v(e._s(t.text))]):i("item-details-field",{attrs:{field:t,"dynamic-field-type":e.dynamicFieldType(t.typeField),"field-value":t.value,reload:e.reload},on:{valueChanged:e.valueChanged},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.value,a=t.fieldType,s=t.field,o=t.reload,n=t.rules,r=t.changeValue;return[e._t("field:"+s.name,null,{value:i,fieldType:a,field:s,reload:o,rules:n,changeValue:r})]}}],null,!0)})],1)})),1)],1)},Ei=[],Ti=i("9db7"),Si={components:{ItemDetailsField:Ti["a"]},name:"item-details-extended",props:["fieldsInfo","title"],data(){return{files:null,masks:{date:"####-##-##",time:"##:##",datetime:"####-##-## ##:##:##"},reload:!1,fields:[]}},mounted(){this.setFields()},watch:{item:{handler(e){this.setFields()},deep:!0}},computed:{...Object(o["e"])("crud",["item","itemIdColumn","detailsDialog"]),rules(){const e=this;return{input:[t=>!!t||e.$t("global.details.rules.required")],required:t=>!!t||e.$t("global.details.rules.required")}}},methods:{...Object(o["b"])("crud",["updateItemDetail"]),setFields(){const e=this.fieldsInfo.map(e=>{const t=e;if(t.value=this.item[e.column],t.oldValue=t.value,t.show=!0,"select"===e.type){const i=e.list.default||"";t.value=(e.stringId?this.item[e.column]:parseInt(this.item[e.column]))||i}return"checkbox"===e.type&&(t.value=1===parseInt(this.item[e.column])),t});this.$set(this,"fields",e),this.reload=!0,setTimeout(()=>{this.reload=!1},100)},update(e){const t={};t[e.column]=e.value,this.updateItemDetail([this.item[this.itemIdColumn],t,this.$t("global.alerts.updated")])},fieldRules(e){const t=[],i=void 0===e.required||e.required;return i&&t.push(this.rules.required),t},remember(e){e.oldValue=e.value},valueChanged(e,t){let i=this.fields[this.fields.findIndex(e=>e.column===t)],s=i.value;s!==e&&(this.$set(i,"value",e),a["a"].set(this.item,i.column,i.value),this.update(i))},dynamicFieldType(e){const t=this.fields.find(t=>t.name===e);return t?t.value:void 0}}},Pi=Si,Mi=(i("fae5"),i("0fd9")),ji=Object(Ze["a"])(Pi,Ci,Ei,!1,null,"0812ce75",null),Vi=ji.exports;Je()(ji,{VFlex:ii["a"],VRow:Mi["a"]});var Oi={name:"item-details",components:{ItemDetailsExtended:Vi},props:["fields","basicInformation","title"],data(){return{}},computed:{...Object(o["e"])("crud",["item","itemIdColumn","detailsLoading","detailsDialog","isItemsViewFlat"])},methods:{...Object(o["b"])("crud",["getItems","getItemDetails"]),...Object(o["d"])("crud",["hideItemDetailsDialog","setIdColumn","setChildItemsMapping","moveItem","setNextItem","itemDetails"]),escapeHandler(e){27===e.which&&this.close()},refresh(){this.getItemDetails([this.item[this.itemIdColumn]])},close(){this.hideItemDetailsDialog()},previous(){this.moveItem(["previous",!0])},next(){this.moveItem(["next",!0])}},destroyed(){this.itemDetails({})}},Fi=Oi,Bi=i("62ad"),Di=i("490a"),Li=i("fe57"),Ai=Object(Ze["a"])(Fi,$i,Ii,!1,null,null,null),Ni=Ai.exports;Je()(Ai,{VBtn:Ge["a"],VCard:Ht["a"],VCol:Bi["a"],VDialog:Zt["a"],VIcon:Qe["a"],VLayout:It["a"],VProgressCircular:Di["a"],VRow:Mi["a"],VSpacer:gt["a"],VTabs:Li["a"],VToolbar:nt["a"],VToolbarTitle:bt["a"]});var zi={name:"item-details",props:["fields"],methods:{...Object(o["d"])("crud",["setIdColumn","setChildItemsMapping"])}},Ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("company-positions-table",{attrs:{title:e.$t("global.routes.crm.positions"),"fields-info":e.fileteredTableFields,"details-loader":e.detailsLoader,"table-data":e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),"delete-mode":"both","item-elements":e.itemElements}}),i("company-position-details",{attrs:{details:e.details,"fields-info":e.fileteredDetailsFields}}),i("company-position-tasks")],1)},Ui=[],qi={computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/companies",list:{value:"id",text:"common_name",data:[]},column:"company_id",text:this.$t("fields.company"),name:"company",apiObject:{name:"company.common_name"}},{type:"select",url:"crm/people",list:{value:"id",text:"fullname",data:[]},column:"person_id",text:this.$t("fields.person"),name:"person",apiObject:{name:"person.fullname"}},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",required:!1},{type:"input",column:"email",text:this.$t("fields.email"),name:"email",multiedit:!1,required:!1},{type:"input",column:"phone",text:this.$t("fields.phone"),name:"phone",multiedit:!1,required:!1},{text:this.$t("fields.tasks"),name:"tasks",apiObject:{name:"position_tasks",functions:["listTasks"]},textMode:"html",details:!1},{type:"input",column:"email_2",text:this.$t("fields.email_2"),name:"email_2",multiedit:!1,required:!1},{type:"input",column:"phone_2",text:this.$t("fields.phone_2"),name:"phone_2",multiedit:!1,required:!1},{type:"input",column:"phone_3",text:this.$t("fields.phone_3"),name:"phone_3",multiedit:!1,required:!1},{type:"input",column:"comment",text:this.$t("fields.comment"),table:!1,required:!1}]}}},Hi={i18n:{messages:{pl:{detailsTitle:"Stanowisko",fields:{id:"Id",name:"Stanowisko",tasks:"Zadania",company:"Firma",person:"Osoba",phone:"Telefon",phone_2:"Telefon 2",phone_3:"Telefon 3",email:"E-mail",email_2:"E-mail 2",comment:"Komentarz"},itemElements:{positionTasks:{title:"Stanowisko - zadania",headers:{task:"Zadanie"}}}},en:{detailsTitle:"Position",fields:{id:"Id",name:"Position",tasks:"Tasks",company:"Company",person:"Person",phone:"Phone",phone_2:"Phone 2",phone_3:"Phone 3",email:"E-mail",email_2:"E-mail 2",comment:"Comment"},itemElements:{positionTasks:{title:"Position - tasks",headers:{task:"Task"}}}}}}},Wi={computed:{itemElements(){return{positionTasks:{title:this.$t("itemElements.positionTasks.title"),url:"crm/positions/{id}/tasks",controller:"crm/position-tasks",itemObject:"task_positions",columns:[{obj:"name",name:"task",header:this.$t("itemElements.positionTasks.headers.task")}],primaryId:"position_id",foreignId:"task_id",icon:"list",color:"blue",buttonText:this.$t("itemElements.positionTasks.title")}}}}},Zi={props:{title:String,path:String,childItemName:String,fkName:String,exclude:{type:Array,default:()=>[]},activeColumnName:{type:String,default:"active"}},data(){return{detailsLoader:!1}},computed:{...Object(o["e"])("crud",["childItems","itemIdColumn","childTitle"]),...Object(o["c"])("crud",["item","childrenList"]),details(){return this.childItems[this.childItemName].details},fileteredTableFields(){return this.fieldsInfo.filter(e=>!1!==e.table&&"divider"!==e.type&&!1!==e.childTable&&!this.exclude.includes(e.name))},fileteredDetailsFields(){return this.fieldsInfo.filter(e=>!1!==e.details&&"divider"!==e.type&&!1!==e.childTable&&!this.exclude.includes(e.name))}},methods:{...Object(o["d"])("crud",["hideChildDialog","resetChild","editChildDialog","createChildDialog","setChildTitle"]),...Object(o["b"])("crud",["getItemDetails","updateChild","storeChild","getChild","deleteChild"]),edit(e){this.detailsLoader=!0,this.getChild([e,this.path,this.childItemName]).then(t=>{this.editChildDialog([e,this.childItemName]),this.detailsLoader=!1})},create(){this.resetChild(this.childItemName),this.createChildDialog(this.childItemName)},suspend(e){let t={};t[this.activeColumnName]=0,this.updateChild([e,t,this.$t("global.alerts.suspended"),this.path])},restore(e){let t={};t[this.activeColumnName]=1,this.updateChild([e,t,this.$t("global.alerts.restored"),this.path])},reset(){this.resetChild(this.childItemName)},close(){this.hideChildDialog(this.childItemName)},destroy(e){confirm(this.$t("global.alerts.confirm"))&&this.deleteChild([e,this.$t("global.alerts.deleted"),this.$t("global.alerts.deleteError"),this.path])},update(e,t){this.updateChild([e,t,this.$t("global.alerts.updated"),this.path]).then(e=>{this.close()})},store(e){e[this.fkName]=this.item[this.itemIdColumn],this.storeChild([e,this.$t("global.alerts.stored"),this.path]).then(e=>{this.close()})},itemElementsClosed(){this.getItemDetails([this.item[this.itemIdColumn]])}}},Ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"child-card"},[i("controls",{attrs:{"create-mode":e.createMode,"edit-mode":e.editMode,"delete-mode":e.deleteMode,"select-many-mode":!1,"update-many-mode":!1,"remove-many-mode":!1,"main-filter":e.mainFilter,"field-filters":e.fieldFilters,"refresh-button":!1,"export-button":e.exportButton,"excel-loading":e.excelLoading,initialSearch:e.search,initialSelectedStatuses:e.selectedStatuses,initialColumnFilters:e.columnFilters},on:{create:e.create,updateColumnFilterMode:e.updateColumnFilterMode,updateColumnFilterValue:e.updateColumnFilterValue,updateSearch:e.updateSearch,updateSelectedStatuses:e.updateSelectedStatuses,clearFilters:e.clearFilters,exportToExcel:e.exportToExcel}},[i("template",{slot:"left"},e._l(e.customHeaderButtons,(function(t){return i("crud-button",{key:t.name,attrs:{large:"",color:t.color,icon:t.icon,tooltip:t.text},on:{clicked:function(i){return e.customHeaderAction(t.name)}}})})),1)],2),i("v-data-table",{attrs:{"must-sort":!0,options:e.pagination,headers:e.headers,items:e.filteredItems,"no-results-text":e.$t("global.datatable.noMatchingResults"),"no-data-text":e.$t("global.datatable.noDataAvailable"),"items-per-page":10,"footer-props":e.footerProps,light:"","multi-sort":"",dense:""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([e._l(e.headers,(function(t,a){return{key:"item."+t.value,fn:function(s){var o=s.item;return[i("span",{key:a},["actions"===t.value?i("list-item-actions",{attrs:{item:o,"edit-button":e.editButton,"custom-buttons":e.customButtons,"delete-mode":e.deleteMode,"item-elements":e.itemElements,"edit-mode":e.editMode},on:{edit:e.edit,custom:e.custom,suspend:e.suspend,restore:e.restore,destroy:e.destroy,editItemElements:e.editItemElements,doubleClick:e.resolveRowDoubleClick}}):i("span",[e._t("field:"+t.value,[i("list-item-field",{attrs:{value:o[t.value],"text-mode":e.textMode(o,t.value)}})],{value:o[t.value],item:o})],2)],1)]}}})),{key:"footer.page-text",fn:function(t){var a=t.pageStart,s=t.pageStop,o=t.itemsLength;return[i("table-footer",{attrs:{pagination:e.pagination,pageStart:a,pageStop:s,itemsLength:o},on:{setPage:e.setPage}})]}}],null,!0)}),i("div",{staticClass:"details-loader-container"},[e.detailsLoader?i("v-layout",{staticClass:"details-loader",attrs:{"justify-center":"","align-center":""}},[i("v-progress-circular",{attrs:{size:100,width:3,color:"primary",indeterminate:""}})],1):e._e()],1)],1)},Ji=[],Gi=i("4cfd"),Yi=i("8cd2"),Qi=i("f1ad"),Xi=i("5a8b"),ea=i("b587"),ta=i("4c4d"),ia=i("c856"),aa={name:"ChildrenTable",mixins:[Gi["a"],Yi["a"],Qi["a"],Xi["a"]],components:{CrudButton:ea["a"],Controls:ta["a"]},props:{title:String,fieldsInfo:Array,editButton:{type:Boolean,default:ia["a"].editButton||!0},deleteMode:{type:String,validator(e){return-1!==["none","soft","hard","both"].indexOf(e)},default:"soft"},customHeaderButtons:{type:Array,default:()=>[]},customButtons:{type:Array,default:()=>[]},itemElements:{type:Object,default:()=>{}},meta:{type:Array,default:()=>[]},primaryKey:{type:String,default:"id"},tableData:{type:Array,default:()=>[]},detailsLoader:{type:Boolean,default:!1},createMode:{type:Boolean,default:void 0===ia["a"].createMode||ia["a"].createMode},editMode:{type:Boolean,default:void 0===ia["a"].editMode||ia["a"].editMode},mainFilter:{type:Boolean,default:void 0===ia["a"].mainFilter||ia["a"].mainFilter},fieldFilters:{type:Boolean,default:void 0===ia["a"].fieldFilters||ia["a"].fieldFilters},exportButton:{type:Boolean,default:void 0===ia["a"].exportButton||ia["a"].exportButton}},computed:{...Object(o["e"])("app",["page"]),...Object(o["e"])("crud",["prefix","path"]),tableFields(){return this.fieldsInfo.filter(e=>!1!==e.table&&"divider"!==e.type)},items(){return this.tableData},excelName(){return this.title||"export"},columnTextModes(){return this.setColumnTextModes()}},methods:{...Object(o["d"])("crud",["setItemElementsInfo","editItemElementsDialog"]),...Object(o["b"])("crud",["getItemElements"]),resolveRowDoubleClick(e){this.edit(e.meta.id)},edit(e){this.$parent.edit(e)},create(){this.$parent.create()},suspend(e){this.$parent.suspend(e)},restore(e){this.$parent.restore(e)},destroy(e){this.$parent.destroy(e)},customHeaderAction(e){this.$parent[e]()},custom(e,t,i){this.$parent[e](t,i)},editItemElements(e,t){const i=this.itemElements[e];this.setItemElementsInfo([t,i]),this.getItemElements()}}},sa=aa,oa=(i("1e18"),i("8fea")),na=Object(Ze["a"])(sa,Ki,Ji,!1,null,"59583016",null),ra=na.exports;Je()(na,{VDataTable:oa["a"],VLayout:It["a"],VProgressCircular:Di["a"]});var la=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"","max-width":"480"},model:{value:e.details.show,callback:function(t){e.$set(e.details,"show",t)},expression:"details.show"}},[i("v-card",[e._t("title",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("global.details.title")))])]),i("v-form",{model:{value:e.details.formValid,callback:function(t){e.$set(e.details,"formValid",t)},expression:"details.formValid"}},[i("v-card-text",[e._t("over-fields"),e._l(e.fields,(function(t,a){return i("div",{key:a},[i("item-details-field",{attrs:{field:t,"field-value":t.value,reload:e.reload},on:{valueChanged:e.valueChanged},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.value,a=t.fieldType,s=t.field,o=t.reload,n=t.rules,r=t.changeValue;return[e._t("field:"+s.name,null,{value:i,fieldType:a,field:s,reload:o,rules:n,changeValue:r})]}}],null,!0)})],1)})),e._t("under-fields")],2),i("v-card-actions",[i("v-spacer"),e._t("custom-actions"),i("v-btn",{attrs:{color:"black",text:""},nativeOn:{click:function(t){return e.close()}}},[e._v("\n          "+e._s(e.$t("global.details.buttons.close"))+"\n        ")]),"create"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"green",text:""},on:{click:function(t){return e.store()}}},[e._v("\n          "+e._s(e.$t("global.details.buttons.create"))+"\n        ")]):"edit"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"blue",text:""},on:{click:function(t){return e.update()}}},[e._v("\n          "+e._s(e.$t("global.details.buttons.modify"))+"\n        ")]):e._e()],2)],1)],2)],1)},da=[],ca={components:{ItemDetailsField:Ti["a"]},props:{details:Object,fieldsInfo:Array},data(){return{fields:[],masks:{date:"####-##-##",time:"##:##",datetime:"####-##-## ##:##:##"},reload:!1,customFilter(e,t,i){const a=e=>null!=e?e:"",s=a(e.name),o=a(t);return s.toString().toLowerCase().indexOf(o.toString().toLowerCase())>=-1}}},mounted(){this.setFields()},computed:{itemData(){const e={};for(const t of this.fields)e[t.column]=t.value?t.value:null;return e},rules(){const e=this;return{input:[t=>!!t||e.$t("global.details.rules.required")],required:t=>!!t||e.$t("global.details.rules.required")}},detailsShow(){return this.details.show}},watch:{detailsShow:function(e){e&&(this.setFields(),this.reload=!0,setTimeout(()=>{this.reload=!1},100))}},methods:{setFields(){let e;e=this.fieldsInfo.filter(e=>!1!==e.details&&"divider"!==e.type);const t=e.map(e=>{const t=e;let i=!0;if("create"===this.details.action&&(i=!1!==e.create),t.show=i,t.value=this.details.item[e.column],"undefined"!==typeof t.value){if("select"===e.type){const i=e.list.default||e.required?1:void 0;t.value=e.stringId?this.details.item[e.column]:parseInt(this.details.item[e.column])||i}else"date"===e.type?t.value=(this.details.item[e.column]||"").substring(0,10):"checkbox"===e.type&&(t.value=1===parseInt(this.details.item[e.column]));if(e.apiObject&&e.apiObject.useFunctionsInDetails){const i=e.apiObject.functions||[],a=x["b"];for(let e=0;e<i.length;e++){const s=i[e];t.value=a[s](t.value)}}}else"checkbox"===e.type&&(t.value=!1);return t});this.$set(this,"fields",t)},valueChanged(e,t){const i=this.fields[this.fields.findIndex(e=>e.column===t)];this.$set(i,"value",e),i.onChange&&i.onChange(e,this.fields)},fieldRules(e){const t=[],i=void 0===e.required||e.required;return i&&t.push(this.rules.required),t},reset(){this.$parent.reset()},close(){this.$parent.close()},update(){this.$parent.update(this.details.id,this.itemData)},store(){this.$parent.store(this.itemData)}}},ma=ca,ua=(i("3ca8"),Object(Ze["a"])(ma,la,da,!1,null,"2264621b",null)),pa=ua.exports;Je()(ua,{VBtn:Ge["a"],VCard:Ht["a"],VCardActions:Wt["a"],VCardText:Wt["b"],VCardTitle:Wt["c"],VDialog:Zt["a"],VForm:Kt["a"],VSpacer:gt["a"]});var ha=i("81b8"),fa={mixins:[qi,Hi,Wi,Zi],components:{"company-positions-table":ra,"company-position-details":pa,"company-position-tasks":ha["a"]}},ga=fa,ba=Object(Ze["a"])(ga,Ri,Ui,!1,null,null,null),va=ba.exports,ya=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("company-comments-table",{attrs:{title:e.$t("global.routes.crm.companyComments"),"fields-info":e.fileteredTableFields,"details-loader":e.detailsLoader,"table-data":e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),"delete-mode":"soft"}}),i("company-comment-details",{attrs:{details:e.details,"fields-info":e.fileteredDetailsFields}})],1)},xa=[],wa={computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/companies",list:{value:"id",text:"common_name",data:[]},column:"company_id",text:this.$t("fields.company"),name:"company",apiObject:{name:"company.common_name"}},{text:this.$t("fields.user"),name:"user",apiObject:{name:"user.name"},details:!1},{text:this.$t("fields.userEmail"),name:"userEmail",apiObject:{name:"user.email"},details:!1},{type:"select",url:"crud/crm/company-comment-types",list:{value:"id",text:"name",data:[]},column:"company_comment_type_id",text:this.$t("fields.commentType"),name:"companyCommentType",apiObject:{name:"company_comment_type.name"}},{type:"textarea",column:"content",text:this.$t("fields.content"),name:"content",apiObject:{name:"content",functions:["croppedText"]},multiedit:!1}]}}},ka={i18n:{messages:{pl:{detailsTitle:"Firma - komentarz",fields:{id:"Id",company:"Firma",user:"Autor",userEmail:"E-mail autora",commentType:"Typ komentarza",content:"Treść"}},en:{detailsTitle:"Company - comment",fields:{id:"Id",company:"Company",user:"Author",userEmail:"Author e-mail",commentType:"Comment type",content:"Content"}}}}},_a={mixins:[wa,ka,Zi],components:{"company-comments-table":ra,"company-comment-details":pa}},$a=_a,Ia=Object(Ze["a"])($a,ya,xa,!1,null,null,null),Ca=Ia.exports,Ea={mixins:[zi],components:{ItemDetailsContainer:Ni,CompanyPositions:va,CompanyComments:Ca},created(){this.setIdColumn("id"),this.setChildItemsMapping([{name:"companyPositions",objName:"positions"},{name:"companyComments",objName:"comments"}])},i18n:{messages:{pl:{title:"Szczegóły firmy",basicInformation:"Dane podstawowe",positions:"Stanowiska",comments:"Komentarze",files:"Pliki"},en:{title:"Company details",basicInformation:"Basic information",positions:"Positions",comments:"Comments",files:"Files"}}}},Ta=Ea,Sa=i("71a3"),Pa=i("c671"),Ma=Object(Ze["a"])(Ta,ki,_i,!1,null,null,null),ja=Ma.exports;Je()(Ma,{VCard:Ht["a"],VCardText:Wt["b"],VTab:Sa["a"],VTabItem:Pa["a"]});var Va={watch:{createdElement:{handler(){const{created:e}=this.createdElement;if(e){const{id:e}=this.createdElement;e&&this.goToItem({meta:{id:e}}),this.setCreatedItemStatus([!1,null])}},deep:!0}},computed:{...Object(o["e"])("crud",["createdElement"]),...Object(o["c"])("crud",["itemCreated"]),buttons(){return[{name:"goToItem",icon:"forward",color:"blue",text:this.$t("global.details.title")}]},itemFields(){return this.fieldsInfo.filter(e=>!1!==e.details)}},methods:{...Object(o["d"])("crud",["showItemDetailsDialog","setCreatedItemStatus","setCurrentItem"]),...Object(o["b"])("crud",["getItemDetails"]),goToItem(e,t){this.setCurrentItem({id:e.meta.id,index:t}),this.getItemDetails([e.meta.id]).then(()=>{this.showItemDetailsDialog()})}}},Oa={mixins:[Va,xi,wi],components:{Crud:yi["default"],ItemDetails:ja},data(){return{prefix:"crud/crm",path:"companies",paths:{i:"crm/companies",sh:"crm/companies"},pageTitle:"crm.companies"}},computed:{buttons(){return[{name:"goToItem",icon:"forward",color:"blue",text:this.$t("buttons.goToItem")}]}},methods:{...Object(o["d"])(["alertSuccess","alertError"]),...Object(o["b"])("crud",["updateItem","storeItem"])}},Fa=Oa,Ba=Object(Ze["a"])(Fa,bi,vi,!1,null,null,null),Da=Ba.exports,La=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("crud",{attrs:{"custom-buttons":e.buttons,prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle"),"edit-button":!1,"watch-for-creation":!0,"primary-key":"id","delete-mode":"soft",mode:"ServerSide"}}),i("item-details",{attrs:{fields:e.itemFields}})],1)},Aa=[],Na={computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"lastname",text:this.$t("fields.lastname"),grid:"xs12 sm6 md4 lg6 xl4",name:"lastname",multiedit:!1},{type:"input",column:"firstname",text:this.$t("fields.firstname"),grid:"xs12 sm6 md4 lg6 xl4",name:"firstname",multiedit:!1},{type:"input",column:"distinction",text:this.$t("fields.distinction"),grid:"xs12 sm6 md4 lg6 xl4",name:"distinction",required:!1},{type:"select",url:"crud/crm/languages",list:{value:"id",text:"name",data:[]},column:"language_id",text:this.$t("fields.language"),grid:"xs12 sm6 md4 lg6 xl4",name:"language",apiObject:{name:"language.name"}},{type:"select",url:"crm/sexes",list:{value:"id",text:"name",data:[]},column:"sex_id",text:this.$t("fields.sex"),grid:"xs12 sm6 md4 lg6 xl4",name:"sex",apiObject:{name:"sex.name"}},{type:"input",column:"email",text:this.$t("fields.email"),grid:"xs12 sm6 md4 lg6 xl4",name:"email",multiedit:!1,required:!1},{type:"input",column:"phone",text:this.$t("fields.phone"),grid:"xs12 sm6 md4 lg6 xl4",name:"phone",multiedit:!1,required:!1}]}}},za={i18n:{messages:{pl:{detailsTitle:"Osoba",buttons:{goToItem:"Przejdź do osoby"},fields:{id:"Id",firstname:"Imię",lastname:"Nazwisko",fullname:"Imię i Nazwisko",distinction:"Wyróżnik",sex:"Płeć",language:"Język",email:"E-mail",phone:"Telefon"}},en:{detailsTitle:"Person",buttons:{goToItem:"Go to person"},fields:{id:"Id",firstname:"Firstname",lastname:"Lastname",fullname:"Fullname",distinction:"Distinction",sex:"Sex",language:"Language",email:"E-mail",phone:"Phone"}}}}},Ra=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("item-details-container",{attrs:{title:e.$t("title"),fields:e.fields,"basic-information":e.$t("basicInformation")}},[i("v-tab",{key:"positions",attrs:{ripple:""}},[e._v(e._s(e.$t("positions")))]),i("v-tab",{key:"comments",attrs:{ripple:""}},[e._v(e._s(e.$t("comments")))]),i("v-tab-item",{key:"positions"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("person-positions",{attrs:{exclude:["id","person"],path:"crm/positions","child-item-name":"personPositions","fk-name":"person_id"}})],1)],1)],1),i("v-tab-item",{key:"comments"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("person-comments",{attrs:{exclude:["id","person"],path:"crm/person-comments","child-item-name":"personComments","fk-name":"person_id"}})],1)],1)],1)],1)},Ua=[],qa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("person-positions-table",{attrs:{"fields-info":e.fileteredTableFields,"details-loader":e.detailsLoader,"table-data":e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),"delete-mode":"both"}}),i("person-position-details",{attrs:{details:e.details,"fields-info":e.fileteredDetailsFields}})],1)},Ha=[],Wa={mixins:[qi,Hi,Zi],components:{"person-positions-table":ra,"person-position-details":pa}},Za=Wa,Ka=Object(Ze["a"])(Za,qa,Ha,!1,null,null,null),Ja=Ka.exports,Ga=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("person-comments-table",{attrs:{"fields-info":e.fileteredTableFields,"details-loader":e.detailsLoader,"table-data":e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),"delete-mode":"soft"}}),i("person-comment-details",{attrs:{details:e.details,"fields-info":e.fileteredDetailsFields}})],1)},Ya=[],Qa={computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/people",list:{value:"id",text:"fullname",data:[]},column:"person_id",text:this.$t("fields.person"),name:"person",apiObject:{name:"person.fullname"}},{text:this.$t("fields.user"),name:"user",apiObject:{name:"user.name"},details:!1},{text:this.$t("fields.userEmail"),name:"userEmail",apiObject:{name:"user.email"},details:!1},{type:"select",url:"crm/person-comment-types",list:{value:"id",text:"name",data:[]},column:"person_comment_type_id",text:this.$t("fields.commentType"),name:"personCommentType",apiObject:{name:"person_comment_type.name"}},{type:"textarea",column:"content",text:this.$t("fields.content"),name:"content",apiObject:{name:"content",functions:["croppedText"]},multiedit:!1}]}}},Xa={i18n:{messages:{pl:{detailsTitle:"Osoba - komentarz",fields:{id:"Id",person:"Osoba",user:"Autor",userEmail:"E-mail autora",commentType:"Typ komentarza",content:"Treść"}},en:{detailsTitle:"Person - comment",fields:{id:"Id",person:"Person",user:"Author",userEmail:"Author e-mail",commentType:"Comment type",content:"Content"}}}}},es={mixins:[Qa,Xa,Zi],components:{"person-comments-table":ra,"person-comment-details":pa}},ts=es,is=Object(Ze["a"])(ts,Ga,Ya,!1,null,null,null),as=is.exports,ss={mixins:[zi],components:{ItemDetailsContainer:Ni,PersonPositions:Ja,PersonComments:as},created(){this.setIdColumn("id"),this.setChildItemsMapping([{name:"personPositions",objName:"positions"},{name:"personComments",objName:"comments"}])},i18n:{messages:{pl:{title:"Szczegóły osoby",basicInformation:"Dane podstawowe",positions:"Stanowiska",comments:"Komentarze"},en:{title:"Person details",basicInformation:"Basic information",positions:"Positions",comments:"Comments"}}}},os=ss,ns=Object(Ze["a"])(os,Ra,Ua,!1,null,null,null),rs=ns.exports;Je()(ns,{VCard:Ht["a"],VCardText:Wt["b"],VTab:Sa["a"],VTabItem:Pa["a"]});var ls={mixins:[Va,Na,za],components:{Crud:yi["default"],ItemDetails:rs},data(){return{prefix:"crud/crm",path:"people",paths:{i:"crm/people",sh:"crm/people"},pageTitle:"crm.people"}},computed:{buttons(){return[{name:"goToItem",icon:"forward",color:"blue",text:this.$t("buttons.goToItem")}]}},methods:{...Object(o["d"])(["alertSuccess","alertError"]),...Object(o["b"])("crud",["updateItem","storeItem"])}},ds=ls,cs=Object(Ze["a"])(ds,La,Aa,!1,null,null,null),ms=cs.exports,us=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{"item-elements":e.itemElements,prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},ps=[],hs={mixins:[qi,Hi,Wi],data(){return{prefix:"crm",path:"positions",pageTitle:"crm.positions"}},components:{Crud:yi["default"]}},fs=hs,gs=Object(Ze["a"])(fs,us,ps,!1,null,null,null),bs=gs.exports,vs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},ys=[],xs={mixins:[wa,ka],data(){return{prefix:"crud/crm",path:"company-comments",paths:{i:"crm/company-comments",st:"crm/company-comments",u:"crm/company-comments"},pageTitle:"crm.companyComments"}},components:{Crud:yi["default"]}},ws=xs,ks=Object(Ze["a"])(ws,vs,ys,!1,null,null,null),_s=ks.exports,$s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},Is=[],Cs={mixins:[Qa,Xa],data(){return{prefix:"crud/crm",path:"person-comments",paths:{i:"crm/person-comments",st:"crm/person-comments",u:"crm/person-comments"},pageTitle:"crm.personComments"}},components:{Crud:yi["default"]}},Es=Cs,Ts=Object(Ze["a"])(Es,$s,Is,!1,null,null,null),Ss=Ts.exports,Ps=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"delete-mode":"hard","details-title":e.$t("detailsTitle")}})},Ms=[],js={data(){return{prefix:"crm",path:"position-tasks",pageTitle:"crm.positionTasks"}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{text:this.$t("fields.positionPerson"),name:"positionPerson",apiObject:{name:"position.person.fullname"},details:!1},{text:this.$t("fields.positionCompany"),name:"positionCompany",apiObject:{name:"position.company.common_name"},details:!1},{type:"select",url:"crm/positions",list:{value:"id",text:"complexName",complexName:["person.fullname","company.common_name","name"],data:[]},column:"position_id",text:this.$t("fields.position"),name:"position",apiObject:{name:"position.name"}},{type:"select",url:"crm/tasks",list:{value:"id",text:"name",data:[]},column:"task_id",text:this.$t("fields.task"),name:"task",apiObject:{name:"task.name"}}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Stanowisko - zadanie",fields:{id:"Id",positionPerson:"Osoba",positionCompany:"Firma",position:"Nazwa stanowiska",task:"Zadanie"}},en:{detailsTitle:"Position - task",fields:{id:"Id",positionPerson:"Person",positionCompany:"Company",position:"Position",task:"Task"}}}}},Vs=js,Os=Object(Ze["a"])(Vs,Ps,Ms,!1,null,null,null),Fs=Os.exports,Bs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{meta:e.meta,"file-mode":!0,prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},Ds=[],Ls={data(){return{prefix:"crm",path:"company-files",paths:{sh:"crud/crm/company-files",st:"crud/crm/company-files",u:"crud/crm/company-files",d:"crud/crm/company-files",mu:"crud/crm/company-files",md:"crud/crm/company-files"},pageTitle:"crm.companyFiles",meta:[{name:"path"}]}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/companies",list:{value:"id",text:"common_name",data:[]},column:"company_id",text:this.$t("fields.company"),name:"company",apiObject:{name:"company.common_name"}},{type:"file",column:"file",text:this.$t("fields.file"),name:"file",textMode:"file",multiedit:!1},{type:"file",column:"file_2",text:this.$t("fields.file2"),name:"file_2",textMode:"file",multiedit:!1},{type:"textarea",column:"description",text:this.$t("fields.description"),name:"description",required:!1}]}},methods:{},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Plik",fields:{id:"Id",company:"Firma",file:"Plik",file2:"Plik 2",description:"Opis",type:"Typ pliku",size:"Rozmiar"}},en:{detailsTitle:"File",fields:{id:"Id",company:"Company",file:"File",file2:"File 2",description:"Description",type:"File type",size:"Size"}}}}},As=Ls,Ns=Object(Ze["a"])(As,Bs,Ds,!1,null,null,null),zs=Ns.exports,Rs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},Us=[],qs={data(){return{prefix:"crud/crm",path:"company-types",pageTitle:"crm.companyTypes"}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",multiedit:!1},{type:"input",column:"code",text:this.$t("fields.code"),name:"code",multiedit:!1}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Typ firmy",fields:{id:"Id",name:"Nazwa",code:"Kod"}},en:{detailsTitle:"Company type",fields:{id:"Id",name:"Name",code:"Code"}}}}},Hs=qs,Ws=Object(Ze["a"])(Hs,Rs,Us,!1,null,null,null),Zs=Ws.exports,Ks=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},Js=[],Gs={data(){return{prefix:"crud/crm",path:"company-comment-types",pageTitle:"crm.companyCommentTypes"}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",multiedit:!1}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Firmy - typ komentarza",fields:{id:"Id",name:"Nazwa"}},en:{detailsTitle:"Companies - comment type",fields:{id:"Id",name:"Name"}}}}},Ys=Gs,Qs=Object(Ze["a"])(Ys,Ks,Js,!1,null,null,null),Xs=Qs.exports,eo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},to=[],io={data(){return{prefix:"crm",path:"person-comment-types",pageTitle:"crm.personCommentTypes"}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",multiedit:!1}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Osoby - typ komentarza",fields:{id:"Id",name:"Nazwa"}},en:{detailsTitle:"People - comment type",fields:{id:"Id",name:"Name"}}}}},ao=io,so=Object(Ze["a"])(ao,eo,to,!1,null,null,null),oo=so.exports,no=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle")}})},ro=[],lo={data(){return{prefix:"crud/crm",path:"tasks",pageTitle:"crm.tasks"}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",multiedit:!1}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Zadanie",fields:{id:"Id",name:"Nazwa"}},en:{detailsTitle:"Task",fields:{id:"Id",name:"Name"}}}}},co=lo,mo=Object(Ze["a"])(co,no,ro,!1,null,null,null),uo=mo.exports;let po=[{path:"companies",name:"companies",component:Da},{path:"people",name:"people",component:ms},{path:"positions",name:"positions",component:bs},{path:"company-comments",name:"companyComments",component:_s},{path:"person-comments",name:"personComments",component:Ss},{path:"position-tasks",name:"positionTasks",component:Fs},{path:"company-files",name:"companyFiles",component:zs},{path:"company-types",name:"companyTypes",component:Zs},{path:"company-comment-types",name:"companyCommentTypes",component:Xs},{path:"person-comment-types",name:"personCommentTypes",component:oo},{path:"tasks",name:"tasks",component:uo}];var ho=po,fo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("router-view")],1)},go=[],bo={data(){return{}},created(){this.setModule("admin.name")},methods:{...Object(o["d"])("app",["setModule"])}},vo=bo,yo=Object(Ze["a"])(vo,fo,go,!1,null,null,null),xo=yo.exports,wo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{ref:"crud",attrs:{prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle"),"custom-buttons":e.buttons,"item-elements":e.itemElements}})},ko=[],_o={data(){return{prefix:"crud/admin",path:"users",paths:{i:"admin/users",st:"admin/users"},pageTitle:"admin.users"}},computed:{itemElements(){return{userPermissions:{title:this.$t("itemElements.userPermissions.title"),url:"admin/users/{id}/permissions",controller:"crud/admin/user-permissions",itemObject:"permission_users",columns:[{obj:"name",name:"permission",header:this.$t("itemElements.userPermissions.headers.permission")}],primaryId:"user_id",foreignId:"permission_id",icon:"lock_open",color:"purple",buttonText:this.$t("itemElements.userPermissions.title")}}},buttons(){return[{name:"resetPassword",icon:"autorenew",color:"blue",text:this.$t("buttons.resetPassword")}]},fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",multiedit:!1},{type:"input",column:"email",text:this.$t("fields.email"),name:"email",multiedit:!1},{type:"select",url:"crud/admin/user-types",list:{value:"id",text:"name",data:[]},column:"user_type_id",text:this.$t("fields.userType"),name:"user_type",apiObject:{name:"user_type.name"}},{text:this.$t("fields.initialPassword"),name:"initialPassword",apiObject:{name:"initial_password"},details:!1}]}},methods:{...Object(o["b"])("crud",["getItems"]),...Object(o["b"])(["openAlertBox"]),resetPassword(e){a["a"].http.put("admin/users/"+e.id+"/reset-password").then(e=>{this.openAlertBox(["alertSuccess",this.$t("passwordReseted")]),this.getItems()})}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Użytkownik",fields:{id:"Id",name:"Nazwa",email:"E-mail",initialPassword:"Hasło początkowe",userType:"Typ użytkownika"},itemElements:{userPermissions:{title:"Uprawnienia użytkownika",headers:{permission:"Uprawnienie"}}},buttons:{resetPassword:"Reset hasła"},passwordReseted:"Hasło zostało zmienione",passwordResetError:"Błąd! Nie udało się zmienić hasła"},en:{detailsTitle:"User",fields:{id:"Id",name:"Name",email:"E-mail",initialPassword:"Initial password",userType:"User type"},itemElements:{userPermissions:{title:"User permissions",headers:{permission:"Permission"}}},buttons:{resetPassword:"Reset password"},passwordReseted:"Password changed",passwordResetError:"Error! Password change unsuccessful"}}}},$o=_o,Io=Object(Ze["a"])($o,wo,ko,!1,null,null,null),Co=Io.exports,Eo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle"),"item-elements":e.itemElements}})},To=[],So={data(){return{prefix:"crud/admin",path:"permissions",pageTitle:"admin.permissions"}},computed:{itemElements(){return{permissionUsers:{title:this.$t("itemElements.permissionUsers.title"),url:"admin/permissions/{id}/users",controller:"crud/admin/user-permissions",itemObject:"user_permissions",columns:[{obj:"name",name:"name",header:this.$t("itemElements.permissionUsers.headers.user")}],primaryId:"permission_id",foreignId:"user_id",icon:"people",color:"purple",buttonText:this.$t("itemElements.permissionUsers.title")}}},fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name",multiedit:!1},{type:"input",column:"code",text:this.$t("fields.code"),name:"code",multiedit:!1}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Uprawnienie",fields:{id:"Id",name:"Nazwa",code:"Kod"},itemElements:{permissionUsers:{title:"Użytkownicy posiadający dane uprawnienie",headers:{user:"Użytkownik"}}}},en:{detailsTitle:"Permission",fields:{id:"Id",name:"Name",code:"Code"},itemElements:{permissionUsers:{title:"Users with this permission",headers:{user:"User"}}}}}}},Po=So,Mo=Object(Ze["a"])(Po,Eo,To,!1,null,null,null),jo=Mo.exports,Vo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("crud",{attrs:{prefix:e.prefix,path:e.path,paths:e.paths,"page-title":e.pageTitle,"fields-info":e.fieldsInfo,"details-title":e.$t("detailsTitle"),"delete-mode":"hard"}})},Oo=[],Fo={data(){return{prefix:"crud/admin",path:"user-permissions",paths:{i:"admin/user-permissions"},pageTitle:"admin.userPermissions"}},computed:{fieldsInfo(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crud/admin/users",list:{value:"id",text:"name",data:[]},column:"user_id",text:this.$t("fields.user"),name:"user",apiObject:{name:"user.name"}},{text:this.$t("fields.userEmail"),name:"userEmail",apiObject:{name:"user.email"},details:!1},{type:"select",url:"crud/admin/permissions",list:{value:"id",text:"name",data:[]},column:"permission_id",text:this.$t("fields.permission"),name:"permission",apiObject:{name:"permission.name"}}]}},components:{Crud:yi["default"]},i18n:{messages:{pl:{detailsTitle:"Użytkownik - uprawnienie",fields:{id:"Id",user:"Użytkownik",userEmail:"E-mail użytkownika",permission:"Uprawnienie",permissionCode:"Kod uprawnienia"}},en:{detailsTitle:"User - permission",fields:{id:"Id",user:"User",userEmail:"User's e-mail",permission:"Permission",permissionCode:"Permission code"}}}}},Bo=Fo,Do=Object(Ze["a"])(Bo,Vo,Oo,!1,null,null,null),Lo=Do.exports;let Ao=[{path:"users",name:"users",component:Co},{path:"permissions",name:"permissions",component:jo},{path:"user-permissions",name:"user-permissions",component:Lo}];var No=Ao;let zo=[{path:"home",name:"home",component:ci},{path:"crm",name:"crm",component:gi,children:ho,meta:{guard:"CRM"}},{path:"administration",name:"administration",component:xo,children:No,meta:{guard:"ADMIN"}}];var Ro=zo,Uo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("login-form",{attrs:{redirect:"/home","locale-selectable":!0,"show-logo":!0,logo:"vue-crud-lg.png"}})},qo=[],Ho=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-form white",attrs:{color:"primary"}},[a("v-alert",{staticClass:"login-form__fail-alert px-5",attrs:{type:"error",value:e.loginFailed,dismissible:""}},[e._v("\n    "+e._s(e.$t("global.login.failed"))+"\n  ")]),a("div",{staticClass:"\n      login-form__wrapper\n      d-flex\n      flex-column\n      align-center\n      justify-center\n    "},[e.loginWait?a("v-progress-circular",{staticClass:"login-form__loader",attrs:{size:100,width:5,color:"primary",indeterminate:""}}):[e.showLogo?a("img",{staticClass:"mb-2",attrs:{src:i("7584")("./"+e.logo)}}):e._e(),a("h1",{staticClass:"\n          login-form__title\n          text-center\n          primary--text\n          display-1\n          font-weight-bold\n          mb-10\n        "},[e._v("\n        "+e._s(e.$t("global.login.title"))+"\n      ")]),e.localeSelectable?a("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{dark:"",fab:"",small:"",color:"secondary"}},i),[a("v-icon",[e._v("translate")])],1)]}}],null,!1,3806859008)},[a("v-list",e._l(e.locales,(function(t,i){return a("v-list-item",{key:i,on:{click:function(i){return e.changeLocale(t.name)}}},[a("v-list-item-title",[e._v(e._s(t.text))])],1)})),1)],1):e._e(),a("v-form",{ref:"form",staticClass:"login-form__form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:e.$t("global.login.login"),rules:e.loginRules,required:""},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),a("v-text-field",{staticClass:"mb-5",attrs:{label:e.$t("global.login.password"),rules:e.passwordRules,counter:30,required:"","append-icon":e.passAppendIcon,type:e.passTextFieldType},on:{"click:append":function(){return e.passwordHidden=!e.passwordHidden}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!e.valid},on:{click:function(t){return e.loginAttempt()}}},[e._v("\n          "+e._s(e.$t("global.login.submit"))+"\n        ")])],1)]],2)],1)},Wo=[],Zo={name:"login",props:{redirect:{type:String,default:"/"},showLogo:{type:Boolean,default:!0},logo:{type:String,default:"vue-crud-sm.png"},localeSelectable:{type:Boolean,default:!0}},data(){return{valid:!1,password:"",user:"",passwordHidden:!0,alphanumericRegex:/^[a-zA-Z0-9]+$/,emailRegex:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/}},computed:{...Object(o["e"])("auth",["loginWait","loginFailed"]),...Object(o["e"])(["locales"]),loginRegex(){return B.loginRegex?B.loginRegex:B.loginWithEmail?this.emailRegex:this.alphanumericRegex},loginRules(){return[e=>!!e||this.$t("global.login.loginRequired"),e=>this.emailRegex.test(e)||this.$t("global.login.incorrectLogin")]},passwordRegex(){return B.passwordRegex?B.passwordRegex:this.alphanumericRegex},passwordRules(){return[e=>!!e||this.$t("global.login.passwordRequired"),e=>this.passwordRegex.test(e)||this.$t("global.login.incorrectPassword")]},credential(){let e={};return e[B.loginFieldName||"login"]=this.user,e[B.passwordFieldName||"password"]=this.password,e},passTextFieldType(){return this.passwordHidden?"password":"text"},passAppendIcon(){return this.passwordHidden?"visibility":"visibility_off"}},methods:{...Object(o["d"])(["setLocale"]),...Object(o["b"])("auth",["login"]),changeLocale(e){this.$i18n.locale=e,this.$vuetify.lang.current=e,this.setLocale(e)},loginAttempt(){this.login(this.credential).then(()=>{this.$router.push({path:this.redirect})})}}},Ko=Zo,Jo=(i("ae7c"),Object(Ze["a"])(Ko,Ho,Wo,!1,null,"ea50a16e",null)),Go=Jo.exports;Je()(Jo,{VAlert:$t["a"],VBtn:Ge["a"],VForm:Kt["a"],VIcon:Qe["a"],VList:Xe["a"],VListItem:tt["a"],VListItemTitle:st["b"],VMenu:ft["a"],VProgressCircular:Di["a"],VTextField:Jt["a"]});var Yo={components:{LoginForm:Go}},Qo=Yo,Xo=Object(Ze["a"])(Qo,Uo,qo,!1,null,null,null),en=Xo.exports;a["a"].use(Ne["a"]);const tn=new Ne["a"]({routes:[{path:"/",name:"app",component:si,children:Ro,beforeEnter:(e,t,i)=>{var s=localStorage.getItem("token");s?a["a"].http.get("auth/user").then(e=>{i()},e=>{i("/login")}):(we.commit("auth/logout"),i("/login"))}},{path:"/login",name:"login",component:en}]});tn.beforeEach((function(e,t,i){let a;we.state.page=null,e.matched.some(e=>{a=e.meta.guard}),"undefined"===typeof a?i():we.getters["auth/checkPermission"](a)?(window.scrollTo(0,0),i()):we.getters["auth/isLogged"]?i("/home"):i("/login")}));var an=tn,sn=(i("d1e7"),i("3f38")),on=i("f309"),nn=i("7597"),rn={pl:nn["a"]};i("b404");a["a"].use(on["a"]);const ln=new on["a"]({theme:{dark:!1,themes:{light:n.theme}},icons:{iconfont:"md"},lang:{locales:rn||{},current:we.getters.lng}});a["a"].use(sn["q"],{vuetify:ln,iconsGroup:"md"});var dn=ln,cn=i("9483");Object(cn["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var mn=i("28dd");a["a"].use(mn["a"]);const un=b.path.prefix?`/${b.path.prefix}`:"";a["a"].http.options.root=`${b.url}${un}`,a["a"].http.options.emulateJSON=!0;i("db4d");"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&window.addEventListener("hashchange",(function(){var e=window.location.hash.slice(1);an.path!==e&&an.push(e)}),!1);i("c326");var pn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{attrs:{app:"",id:"app"}},[i("router-view")],1)},hn=[],fn={},gn=fn,bn=(i("7faf"),i("7496")),vn=Object(Ze["a"])(gn,pn,hn,!1,null,null,null),yn=vn.exports;Je()(vn,{VApp:bn["a"]}),a["a"].http.interceptors.push((e,t)=>{localStorage.getItem("token")&&e.headers.set("Authorization","Bearer "+localStorage.getItem("token")),t(e=>{400!==e.status&&401!==e.status&&403!==e.status||(we.commit("auth/logout"),an.push({path:"/login"}))})}),new a["a"]({i18n:Ae,router:an,store:we,vuetify:dn,render:e=>e(yn)}).$mount("#app")},"583d":function(e,t,i){},"58ac":function(e,t,i){},"5a8b":function(e,t,i){"use strict";var a=i("c88e");t["a"]={components:{TableFooter:a["a"]},data(){return{tmp:"",pagination:{}}},computed:{cleanHeaders(){const e=this.tableFields.map(e=>{const t={};return t.text=e.text,t.value=e.name.toLowerCase(),void 0!==e.sortable&&(t.sortable=e.sortable),t});return e},headers(){const e=[{text:this.$t("global.datatable.fields.action"),value:"actions",sortable:!1}];return[...e,...this.cleanHeaders]},itemsPerPageOptions(){return[5,10,20,50,100]},footerProps(){return{showFirstLastPage:!0,rowsPerPageText:this.$t("global.datatable.rowsPerPageText"),itemsPerPageOptions:this.itemsPerPageOptions}}},methods:{setPage(e){this.pagination.page=parseInt(e)},clearFilters(){this.pagination.page=1}}}},"5b29":function(e,t,i){"use strict";var a=i("58ac"),s=i.n(a);s.a},"5c51":function(e,t,i){},6346:function(e,t,i){},6461:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative"}},[i("div",[i(e.componentLoader,{tag:"component",attrs:{itemsViewConfig:e.itemsViewConfig,meta:e.meta,"custom-buttons":e.customButtons,"item-elements":e.itemElements,"delete-mode":e.deleteMode,"edit-button":e.editButton,"table-fields":e.tableFields,"primary-key":e.primaryKey,"active-column-name":e.activeColumnName,"create-mode":e.createMode,"edit-mode":e.editMode,"main-filter":e.mainFilter,"field-filters":e.fieldFilters,"refresh-button":e.refreshButton,"export-button":e.exportButton,"select-many-mode":e.selectManyMode,"update-many-mode":e.updateManyMode,"remove-many-mode":e.removeManyMode},scopedSlots:e._u([e._l(e.tableFields,(function(t){return{key:"field:"+t.name,fn:function(i){var a=i.value,s=i.item;return[e._t("list-item-field:"+t.name,null,{item:s,value:a})]}}}))],null,!0)}),i("item-details",{attrs:{title:e.detailsTitle,"details-fields":e.detailsFields,width:e.itemDetailsWidth},scopedSlots:e._u([{key:"title",fn:function(t){var i=t.title;return[e._t("item-details-title",null,{title:i})]}},{key:"over-fields",fn:function(){return[e._t("item-details-over-fields")]},proxy:!0},e._l(e.detailsFields,(function(t){return{key:"field:"+t.name,fn:function(t){var i=t.value,a=t.fieldType,s=t.field,o=t.reload,n=t.rules,r=t.changeValue;return[e._t("item-details-field:"+s.name,null,{value:i,fieldType:a,field:s,reload:o,rules:n,changeValue:r})]}}})),{key:"under-fields",fn:function(){return[e._t("item-details-under-fields")]},proxy:!0},{key:"custom-actions",fn:function(){return[e._t("item-details-custom-actions")]},proxy:!0}],null,!0)}),i("item-elements"),i("image-container")],1),i("div",{staticClass:"details-loader-container"},[e.detailsLoading?i("v-layout",{staticClass:"details-loader",attrs:{"justify-center":"","align-center":""}},[i("v-progress-circular",{attrs:{indeterminate:"",size:100,width:3,color:"primary"}})],1):e._e()],1)])},s=[],o=i("2f62"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":e.width,persistent:"","no-click-animation":""},model:{value:e.details.show,callback:function(t){e.$set(e.details,"show",t)},expression:"details.show"}},[i("v-card",[e._t("title",[i("v-card-title",{staticClass:"headline"},[e._v("\n        "+e._s("multiedit"==e.details.action?e.$t("global.details.multipleUpdateTitle"):e.title)+"\n      ")])],{title:e.title}),i("v-form",{model:{value:e.details.formValid,callback:function(t){e.$set(e.details,"formValid",t)},expression:"details.formValid"}},[i("v-card-text",{staticClass:"details-list"},[e._t("over-fields"),e._l(e.fields,(function(t,a){return i("div",{key:a},[i("v-layout",{attrs:{row:"",wrap:""}},["multiedit"==e.details.action&&t.show?i("v-flex",{staticClass:"sm1"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.updateColumn,expression:"field.updateColumn"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.updateColumn)?e._i(t.updateColumn,null)>-1:t.updateColumn},on:{change:function(i){var a=t.updateColumn,s=i.target,o=!!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&e.$set(t,"updateColumn",a.concat([n])):r>-1&&e.$set(t,"updateColumn",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t,"updateColumn",o)}}})]):e._e(),i("v-flex",{class:"multiedit"==e.details.action?"sm11":"sm12"},[i("item-details-field",{attrs:{field:t,"dynamic-field-type":e.dynamicFieldType(t.typeField),"field-value":t.value,reload:e.reload},on:{valueChanged:e.valueChanged},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.value,a=t.fieldType,s=t.field,o=t.reload,n=t.rules,r=t.changeValue;return[e._t("field:"+s.name,null,{value:i,fieldType:a,field:s,reload:o,rules:n,changeValue:r})]}}],null,!0)})],1)],1)],1)})),e._t("under-fields")],2),i("v-card-actions",[i("v-spacer"),e._t("custom-actions"),i("v-btn",{attrs:{color:"black",text:""},nativeOn:{click:function(t){return e.close()}}},[e._v(e._s(e.$t("global.details.buttons.close")))]),"create"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"green",text:""},on:{click:function(t){return e.store()}}},[e._v(e._s(e.$t("global.details.buttons.create")))]):"edit"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"orange",text:""},on:{click:function(t){return e.update()}}},[e._v(e._s(e.$t("global.details.buttons.modify")))]):"multiedit"==e.details.action?i("v-btn",{attrs:{color:"orange",text:""},on:{click:function(t){return e.updateSelected()}}},[e._v(e._s(e.$t("global.details.buttons.modifySelected")))]):e._e()],2)],1)],2)],1)},r=[],l=i("9db7"),d=i("0dfe"),c={components:{ItemDetailsField:l["a"]},props:["title","detailsFields","width"],data(){return{reload:!1,fields:[]}},watch:{detailsShow:function(e){e&&(this.setFields(),"edit"===this.details.action&&(this.reload=!0,setTimeout(()=>{this.reload=!1},100)))}},mounted(){this.resetItem(),this.setFields()},computed:{...Object(o["e"])("crud",["details","path","prefix","selectedIds"]),itemData(){const e={};for(const t of this.fields)e[t.column]=void 0!==t.value?t.value:null;return e},detailsShow(){return this.details.show}},methods:{...Object(o["b"])("crud",["updateItem","storeItem","mulitipleItemsUpdate"]),...Object(o["b"])(["openAlertBox"]),...Object(o["d"])("crud",["resetItem"]),setFields(){const e=this.detailsFields.map(e=>{const t=e;let i=!0;if("create"===this.details.action?i=!1!==e.create:"multiedit"===this.details.action?i=!1!==e.multiedit:"edit"===this.details.action&&(i=!1!==e.edit),t.show=i,t.value=this.details.item[e.column],"undefined"!==typeof t.value){const i=this.details.item[e.column];if("select"===e.type){const a=e.list.default||e.required?1:void 0;t.value=e.stringId?i:parseInt(i)||a}else"date"===e.type?t.value=(i||"").substring(0,10):"checkbox"===e.type&&([1,"1",!0,"true"].includes(i)?t.value=1:[0,"0",!1,"false"].includes(i)&&(t.value=0));if(e.apiObject&&e.apiObject.useFunctionsInDetails){const i=e.apiObject.functions||[],a=d["b"];for(let e=0;e<i.length;e++){const s=i[e];t.value=a[s](t.value)}}}else"checkbox"===e.type&&(t.value=0);return t});this.$set(this,"fields",e)},dynamicFieldType(e){const t=this.fields.find(t=>t.name===e);return t?t.value:void 0},valueChanged(e,t){const i=this.fields[this.fields.findIndex(e=>e.column===t)];this.$set(i,"value",e),i.onChange&&i.onChange(e,this.fields)},close(){this.details.show=!1},update(){this.updateItem([this.details.id,this.itemData,this.$t("global.alerts.updated"),this.$t("global.alerts.updateError")]).then(e=>{this.close()})},store(){this.storeItem([this.itemData,this.$t("global.alerts.stored"),this.$t("global.alerts.storeError")]).then(e=>{this.close()})},updateSelected(){const e=this.fields.filter(e=>e.updateColumn),t={};for(const i of e)t[i.column]=i.value;this.mulitipleItemsUpdate([{ids:this.selectedIds,request:t},this.$t("global.alerts.updated"),this.$t("global.alerts.updateError")])}}},m=c,u=(i("85a5"),i("2877")),p=i("6544"),h=i.n(p),f=i("8336"),g=i("b0af"),b=i("99d9"),v=i("169a"),y=i("0e8f"),x=i("4bd4"),w=i("a722"),k=i("2fa4"),_=Object(u["a"])(m,n,r,!1,null,"4ef4ea60",null),$=_.exports;h()(_,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VDialog:v["a"],VFlex:y["a"],VForm:x["a"],VLayout:w["a"],VSpacer:k["a"]});var I=i("81b8"),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":"1000"},model:{value:e.imageContainer.show,callback:function(t){e.$set(e.imageContainer,"show",t)},expression:"imageContainer.show"}},[i("v-card",{staticClass:"text-xs-center"},[i("v-card-title",{attrs:{"primary-title":""}}),i("v-card-text",[i("div",[i("h1",[e._v(e._s(e.imageContainer.item.filename))]),i("div",[e._v(e._s(e.imageContainer.item.mime))]),i("div",[e._v(e._s(e._f("fileSize")(e.imageContainer.item.size)))])]),i("img",{staticStyle:{"max-height":"50vh"},attrs:{src:e.image}})]),i("v-responsive"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"black"},on:{click:function(t){return e.closeImageContainer()}}},[e._v("\n        "+e._s(e.$t("global.details.buttons.close"))+"\n      ")])],1)],1)],1)},E=[],T={computed:{...Object(o["e"])("crud",["imageContainer"]),...Object(o["c"])("crud",["filesPath"]),image(){return this.imageContainer.show?`${this.filesPath}/${this.imageContainer.item.path}/${this.imageContainer.item.filename}`:""}},filters:{fileSize(e){return Object(d["d"])(e)}},methods:{...Object(o["d"])("crud",["closeImageContainer"])}},S=T,P=i("6b53"),M=Object(u["a"])(S,C,E,!1,null,null,null),j=M.exports;h()(M,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VDialog:v["a"],VResponsive:P["a"],VSpacer:k["a"]});var V=i("c856"),O={components:{ItemDetails:$,ItemElements:I["a"],ImageContainer:j},props:{prefix:{type:String,default:null},path:{type:String,default:null},paths:{type:Object,default:()=>({})},fieldsInfo:Array,detailsTitle:String,pageTitle:String,editButton:{type:Boolean,default:V["a"].editButton||!0},deleteMode:{type:String,validator(e){return-1!==["none","soft","hard","both","filter"].indexOf(e)},default:V["a"].deleteMode||"soft"},customHeaderButtons:{type:Array,default:()=>[]},customButtons:{type:Array,default:()=>[]},meta:{type:Array,default:()=>[]},itemElements:{type:Object,default:()=>{}},watchForCreation:{type:Boolean,default:!1},primaryKey:{type:String,default:V["a"].primaryKey||"id"},activeColumnName:{type:String,default:V["a"].activityColumnName||"active"},mode:{type:String,validator(e){return-1!==["ClientSide","ServerSide"].indexOf(e)},default:"ClientSide"},itemsView:{type:Object,validator(e){const t=e=>{const t=e?e.type:"table";return-1!==["table","tree"].indexOf(t)},i=e=>{const t=e?e.mode:"client";return-1!==["client","server"].indexOf(t)};return t(e)&&i(e)}},createMode:{type:Boolean,default:void 0===V["a"].createMode||V["a"].createMode},editMode:{type:Boolean,default:void 0===V["a"].editMode||V["a"].editMode},mainFilter:{type:Boolean,default:void 0===V["a"].mainFilter||V["a"].mainFilter},fieldFilters:{type:Boolean,default:void 0===V["a"].fieldFilters||V["a"].fieldFilters},exportButton:{type:Boolean,default:void 0===V["a"].exportButton||V["a"].exportButton},refreshButton:{type:Boolean,default:void 0===V["a"].refreshButton||V["a"].refreshButton},selectManyMode:{type:Boolean,default:void 0===V["a"].selectManyMode||V["a"].selectManyMode},updateManyMode:{type:Boolean,default:void 0===V["a"].updateManyMode||V["a"].updateManyMode},removeManyMode:{type:Boolean,default:void 0===V["a"].removeManyMode||V["a"].removeManyMode},itemDetailsWidth:{default:600}},data(){return{defaultItemsViewMode:"client",defaultItemsViewType:"table",componentTypesMap:{table:"Table",tree:"Tree"},componentModesMap:{server:"ServerMode",client:"ClientMode"}}},computed:{...Object(o["e"])("crud",["detailsLoading"]),tableFields(){return this.fieldsInfo.filter(e=>!1!==e.table&&"divider"!==e.type)},detailsFields(){return this.fieldsInfo.filter(e=>!1!==e.details&&"divider"!==e.type)},itemsViewType(){return this.itemsView&&this.itemsView.type?this.itemsView.type:this.defaultItemsViewType},itemsViewMode(){let e;return this.itemsView&&this.itemsView.mode?e=this.itemsView.mode:this.mode&&(e=this.calcitemsViewMode(this.mode)),e||this.defaultItemsViewMode},itemsViewConfig(){let e={};return"tree"===this.itemsViewType&&this.itemsView&&(e=this.itemsView.config||{}),e},componentLoader(){const e=this.componentTypesMap[this.itemsViewType],t=this.componentModesMap[this.itemsViewMode];return()=>i("3cca")(`./Crud${e}${t}.vue`)}},methods:{...Object(o["d"])("app",["setPage"]),...Object(o["d"])("crud",["setPrefix","setPath","setPaths","setCreationMode","setItemsViewType"]),...Object(o["b"])("crud",["runItemsViewRefreshing"]),custom(e,t,i){this.$parent[e](t,i)},itemElementsClosed(){this.runItemsViewRefreshing()},calcitemsViewMode(e){const t={ServerSide:"server",ClientSide:"client"};return t[e]}},created(){this.setPrefix(this.prefix),this.setPath(this.path),this.setPaths(this.paths),this.setPage(this.pageTitle);const e=this.watchForCreation?"inform":"ignore";this.setCreationMode(e),this.setItemsViewType(this.itemsViewType)}},F=O,B=(i("2804"),i("490a")),D=Object(u["a"])(F,a,s,!1,null,"d5f42524",null);t["default"]=D.exports;h()(D,{VLayout:w["a"],VProgressCircular:B["a"]})},"6c48":function(e,t,i){"use strict";var a=i("4053"),s=i.n(a);s.a},7584:function(e,t,i){var a={"./cake.png":"41e2","./donut.png":"23f7","./vue-crud-avatar.png":"d2ae","./vue-crud-lg.png":"075e","./vue-crud-md.png":"e183","./vue-crud-sm.png":"afbb"};function s(e){var t=o(e);return i(t)}function o(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=o,e.exports=s,s.id="7584"},"7d12":function(e,t,i){},"7faf":function(e,t,i){"use strict";var a=i("882c"),s=i.n(a);s.a},"81b8":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":"800",persistent:""},model:{value:e.itemElements.show,callback:function(t){e.$set(e.itemElements,"show",t)},expression:"itemElements.show"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("\n      "+e._s(e.itemElements.title)+"\n    ")]),i("v-card-title",[[i("crud-button",{attrs:{large:"",color:"red",icon:"delete",tooltip:e.$t("global.itemElements.buttons.removeMany")},on:{clicked:function(t){return e.removeMany()}}}),i("crud-button",{attrs:{large:"",color:"green",icon:"add",tooltip:e.$t("global.itemElements.buttons.addMany")},on:{clicked:function(t){return e.addMany()}}})],i("v-spacer"),[i("v-autocomplete",{attrs:{label:e.$t("global.itemElements.status.title"),items:e.statuses,"item-text":"text","item-value":"value","single-line":"",multiple:"",chips:""},model:{value:e.selectedStatuses,callback:function(t){e.selectedStatuses=t},expression:"selectedStatuses"}})],i("v-spacer"),i("v-text-field",{attrs:{label:e.$t("global.itemElements.search"),"append-icon":"search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],2),i("v-data-table",{attrs:{options:e.pagination,headers:e.headers,items:e.filteredItems,"no-results-text":e.$t("global.itemElements.noMatchingResults"),"no-data-text":e.$t("global.itemElements.noDataAvailable"),"footer-props":e.footerProps,"items-per-page":10,"show-select":"","multi-sort":"",dense:""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([e._l(e.headers,(function(t,a){return{key:"item."+t.value,fn:function(s){var o=s.item;return[i("span",{key:a},["actions"===t.value?[o.added?i("crud-button",{attrs:{small:"",color:"red",icon:"delete",tooltip:e.$t("global.itemElements.buttons.remove")},on:{clicked:function(t){return e.remove(o.connectionId)}}}):i("crud-button",{attrs:{small:"",color:"green",icon:"add",tooltip:e.$t("global.itemElements.buttons.add")},on:{clicked:function(t){return e.add(o.id)}}})]:["id","connectionId","filterStatus","added"].includes(t.value)?"added"===t.value?[i("span",{attrs:{hidden:""}},[e._v(e._s(o[t.value]))]),i("v-icon",[e._v(e._s(o[t.value]?"check":"clear"))])]:e._e():i("span",{domProps:{innerHTML:e._s(o[t.value])}})],2)]}}})),{key:"footer.page-text",fn:function(t){var a=t.pageStart,s=t.pageStop,o=t.itemsLength;return[i("table-footer",{attrs:{pagination:e.pagination,pageStart:a,pageStop:s,itemsLength:o},on:{setPage:function(t){return e.setPage()}}})]}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"black",text:""},nativeOn:{click:function(t){return e.close()}}},[e._v("\n        "+e._s(e.$t("global.itemElements.buttons.close"))+"\n      ")])],1)],1)],1)},s=[],o=i("b587"),n=i("c88e"),r=i("2f62"),l={components:{CrudButton:o["a"],TableFooter:n["a"]},props:["details"],data(){return{selected:[],tmp:"",search:"",pagination:{sortBy:["added"],sorDesc:[!0]},selectedStatuses:[1,0]}},computed:{...Object(r["e"])("crud",["itemElements"]),statuses(){return[{text:this.$t("global.itemElements.status.added"),value:1},{text:this.$t("global.itemElements.status.noAdded"),value:0}]},headers(){const{columns:e}=this.itemElements,t=e.map(e=>{const t={};return t.text=e.header,t.value=e.name,t}),i=[{text:this.$t("global.itemElements.fields.action"),value:"actions",sortable:!1}],a=[{text:this.$t("global.itemElements.fields.added"),value:"added"}];return[...i,...t,...a]},itemsPerPageOptions(){return[5,10,20,50,100]},footerProps(){return{showFirstLastPage:!0,rowsPerPageText:this.$t("global.datatable.rowsPerPageText"),itemsPerPageOptions:this.itemsPerPageOptions}},items(){const e=this.itemElements.itemObject,{columns:t}=this.itemElements,i=this.itemElements.connectionKeyName||"id",a=this.itemElements.dictionaryKeyName||"id",s=this.itemElements.data.map(s=>{const o={};o.id=s[a];for(const e of t){const t=e.obj.split(".").reduce((e,t)=>e[t]||"",s);o[e.name]=t}return"undefined"!==typeof s[e]&&(s[e].length>0?(o.added=!0,o.filterStatus=1,o.connectionId=s[e][0][i]):(o.added=!1,o.filterStatus=0)),o});return s},filteredItems(){const e=this.items.filter(e=>this.selectedStatuses.includes(e.filterStatus)),t=""===this.search?[]:this.search.toLowerCase().split(" "),i=e.filter(e=>{let i=!0;for(let a=0;a<t.length;a++){i=!1;for(const s in e){let o=e[s];("string"===typeof o||o instanceof String||"number"===typeof o)&&(o=o.toString().toLowerCase(),o.includes(t[a])&&(i=!0))}if(!i)break}return i});return i}},methods:{...Object(r["b"])("crud",["addItemElement","removeItemElement","addManyItemElements","removeManyItemElements"]),add(e){const t={};t[this.itemElements.primaryId]=this.itemElements.id,t[this.itemElements.foreignId]=e,this.addItemElement([t,this.$t("global.alerts.added"),this.$t("global.alerts.addError")])},remove(e){this.removeItemElement([e,this.$t("global.alerts.removed"),this.$t("global.alerts.removeError")])},addMany(){const e=this.selected.filter(e=>void 0===e.connectionId).map(e=>{const t={};return t[this.itemElements.primaryId]=this.itemElements.id,t[this.itemElements.foreignId]=e.id,t});this.addManyItemElements([{items:e},this.$t("global.alerts.added"),this.$t("global.alerts.addError")]),this.clearSelected()},removeMany(){const e=this.selected.filter(e=>void 0!==e.connectionId).map(e=>e.connectionId);this.removeManyItemElements([{ids:e},this.$t("global.alerts.removed"),this.$t("global.alerts.removeError")]),this.clearSelected()},close(){this.itemElements.show=!1,this.$parent.itemElementsClosed()},clearSelected(){this.selected=[]},setPage(e){this.pagination.page=parseInt(e)}}},d=l,c=(i("d945"),i("2877")),m=i("6544"),u=i.n(m),p=i("c6a6"),h=i("8336"),f=i("b0af"),g=i("99d9"),b=i("8fea"),v=i("169a"),y=i("132d"),x=i("2fa4"),w=i("8654"),k=Object(c["a"])(d,a,s,!1,null,"2c65f997",null);t["a"]=k.exports;u()(k,{VAutocomplete:p["a"],VBtn:h["a"],VCard:f["a"],VCardActions:g["a"],VCardTitle:g["c"],VDataTable:b["a"],VDialog:v["a"],VIcon:y["a"],VSpacer:x["a"],VTextField:w["a"]})},"85a5":function(e,t,i){"use strict";var a=i("54df"),s=i.n(a);s.a},"882c":function(e,t,i){},"8cd2":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticStyle:{"white-space":"nowrap"}},[e.editButton&&e.editMode?i("crud-button",{attrs:{small:"",color:"orange",icon:"edit",tooltip:e.$t("global.datatable.buttons.edit")},on:{clicked:function(t){return e.edit(e.item.meta.id)}}}):e._e(),e._l(e.customButtons,(function(t){return i("crud-button",{key:t.name,attrs:{disabled:!e.item.meta.buttons[t.name],small:"",color:t.color,icon:t.icon,tooltip:t.text},on:{clicked:function(i){return e.custom(t.name,e.item)}}})})),e._l(e.itemElements,(function(t,a){return i("crud-button",{key:a,attrs:{small:"",color:t.color,icon:t.icon,tooltip:t.buttonText},on:{clicked:function(t){return e.editItemElements(a,e.item.meta.id)}}})})),["soft","both"].includes(e.deleteMode)?["1"==e.item.meta.active?i("crud-button",{attrs:{small:"",color:"red",icon:"undo",tooltip:e.$t("global.datatable.buttons.suspend")},on:{clicked:function(t){return e.suspend(e.item.meta.id)}}}):i("crud-button",{attrs:{small:"",color:"green",icon:"redo",tooltip:e.$t("global.datatable.buttons.restore")},on:{clicked:function(t){return e.restore(e.item.meta.id)}}})]:e._e(),["hard","both"].includes(e.deleteMode)?i("crud-button",{attrs:{small:"",color:"black",icon:"delete",tooltip:e.$t("global.datatable.buttons.delete")},on:{clicked:function(t){return e.destroy(e.item.meta.id)}}}):e._e()],2)},s=[],o=i("b587"),n={components:{CrudButton:o["a"]},props:{item:{},editButton:{},customButtons:{},deleteMode:{},itemElements:{},dynamicTextModes:{},editMode:{},selectManyMode:{type:Boolean,default:!1}},methods:{edit(e){this.$emit("edit",e)},custom(e,t){this.$emit("custom",e,t)},suspend(e){this.$emit("suspend",e)},restore(e){this.$emit("restore",e)},destroy(e){this.$emit("destroy",e)},editItemElements(e,t){this.$emit("editItemElements",e,t)}}},r=n,l=i("2877"),d=Object(l["a"])(r,a,s,!1,null,null,null),c=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",["html"===e.textMode?i("span",{domProps:{innerHTML:e._s(e.value)}}):"cropped"===e.textMode?i("span",{staticClass:"cell-nowrap"},[e._v("\n    "+e._s(e._f("cropped")(e.value))+"\n  ")]):"text"===e.textMode?i("span",[e._v("\n    "+e._s(e.value)+"\n  ")]):"file"===e.textMode?i("span",[i("file-details",{attrs:{fieldInfo:e.fieldInfoToJSON(e.value)}})],1):e._e()])},u=[],p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticStyle:{display:"flex","align-items":"center"}},[i("crud-button",{attrs:{small:"",color:"secondary",icon:"save",tooltip:e.$t("global.details.files.download")},on:{clicked:function(t){return e.download(e.field)}}}),i("span",{style:{visibility:e.isImage(e.field.mime)?"visible":"hidden"}},[i("crud-button",{attrs:{small:"",color:"primary",icon:"search",tooltip:e.$t("global.details.files.show")},on:{clicked:function(t){return e.showImage(e.field)}}})],1),i("div",{staticStyle:{"padding-left":"30px"}},[i("h4",[e._v(e._s(e.field.filename))]),i("p",[e._v(e._s(e.field.mime))]),i("p",[e._v(e._s(e._f("fileSize")(e.field.size)))])])],1)},h=[],f=i("2f62"),g=i("0dfe"),b={components:{CrudButton:o["a"]},props:["fieldInfo"],filters:{fileSize(e){return null!=e?Object(g["d"])(e):""}},computed:{...Object(f["c"])("crud",["filesPath"]),field(){return Object.assign({filename:"",mime:"",size:null},this.fieldInfo)}},methods:{...Object(f["d"])("crud",["openImageContainer"]),download(e){Object(g["a"])(`${this.filesPath}/${e.path}`,e.filename)},isImage(e){const t=["image/jpeg","image/png","image/gif"];return t.includes(e)},showImage(e){this.openImageContainer(e)}}},v=b,y=Object(l["a"])(v,p,h,!1,null,null,null),x=y.exports,w={components:{FileDetails:x},props:{value:{},textMode:{type:String,default:"text"}},filters:{cropped(e){let t;const i=40;return t="string"===typeof e||e instanceof String?e.length<=i?e:`${e.substring(0,i-3)}...`:e,t}},methods:{fieldInfoToJSON(e){return JSON.parse(e)}}},k=w,_=Object(l["a"])(k,m,u,!1,null,null,null),$=_.exports;t["a"]={components:{ListItemActions:c,ListItemField:$},methods:{setColumnTextModes(e){const t={};for(const i of this.tableFields){let a="cropped";if(i.textMode&&(a=i.textMode),"dynamic"===i.type&&i.textModes){const t=e.item[i.typeField];i.textModes[t]&&(a=i.textModes[t])}t[i.name.toLowerCase()]=a}return t},textMode(e,t){const i=this.tableFields.find(e=>e.name===t)||{};let a=i.textMode||"cropped";if("dynamic"===i.type&&i.textModes){const t=e[i.typeField];i.textModes[t]&&(a=i.textModes[t])}return a}}}},"92c9":function(e,t,i){},"9db7":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.field.show?i("div",[e._t("default",[i(e.fieldComponent,{tag:"component",class:{"field--limited-width":e.isWidthLimited},attrs:{"field-type":e.fieldType,field:e.field,reload:e.reload,rules:e.fieldRules(e.field)},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],{value:e.value,fieldType:e.fieldType,field:e.field,reload:e.reload,rules:e.fieldRules(e.field),changeValue:e.changeValue})],2):e._e()},s=[],o={name:"ItemDetailsField",props:["field","fieldValue","reload","dynamicFieldType"],data(){return{value:null,isEmitLocked:!1,componentsMap:{input:"Text",number:"Text",decimal:"Text",time:"Text",datetime:"Text",date:"Date",textarea:"Textarea",file:"File",richTextBox:"RichTextBox",select:"Select",checkbox:"Checkbox"}}},computed:{fieldType(){return"dynamic"===this.field.type?this.dynamicFieldType:this.field.type},componentName(){return this.componentsMap[this.fieldType]},fieldComponent(){return this.componentName?()=>i("16e7")(`./${this.componentName}.vue`):void 0},isWidthLimited(){return!["richTextBox","textarea"].includes(this.fieldType)},rules(){const e=this;return{required:t=>!!t||e.$t("global.details.rules.required")}}},methods:{fieldRules(e){const t=[],i=void 0===e.required||e.required;return i&&t.push(this.rules.required),t},changeValue(e){e&&(this.value=e),this.$emit("valueChanged",this.value,this.field.column)}},watch:{fieldValue:{immediate:!0,handler(e){this.isEmitLocked=!0,this.value=e,this.isEmitLocked=!1}},value:{handler(e){this.isEmitLocked||this.changeValue()}}}},n=o,r=(i("eb7c"),i("2877")),l=Object(r["a"])(n,a,s,!1,null,"457c5eaf",null);t["a"]=l.exports},ae7c:function(e,t,i){"use strict";var a=i("7d12"),s=i.n(a);s.a},afbb:function(e,t,i){e.exports=i.p+"img/vue-crud-sm.b14f5b5e.png"},b587:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({class:e.noMargin?"":"mr-1",attrs:{icon:!e.dark,fab:e.dark,dark:e.dark,"x-small":e.xSmall,small:e.small,large:e.large,"x-large":e.xLarge,color:e.color,loading:e.loading},on:{click:function(t){return e.emitClick()}}},a),[e.icon?i("v-icon",{attrs:{dark:e.dark}},[e._v(e._s(e.icon))]):e._e(),e.text?[e._v(e._s(e.text))]:e._e()],2)]}}])},[i("span",[e._v(e._s(e.tooltip))])])},s=[],o={props:{xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},color:{type:String,default:"primary"},tooltip:{type:String},icon:{type:String},text:{type:String},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},active:{type:Boolean,default:!1},noMargin:{type:Boolean,default:!1}},methods:{emitClick(){this.$emit("clicked")}}},n=o,r=i("2877"),l=i("6544"),d=i.n(l),c=i("8336"),m=i("132d"),u=i("3a2f"),p=Object(r["a"])(n,a,s,!1,null,null,null);t["a"]=p.exports;d()(p,{VBtn:c["a"],VIcon:m["a"],VTooltip:u["a"]})},c326:function(e,t){},c856:function(e,t,i){"use strict";t["a"]={activityColumnName:"active",primaryKey:"id",deleteMode:"soft",editButton:!0,createMode:!0,editMode:!0,mainFilter:!0,fieldFilter:!0,exportButton:!0,refreshButton:!0,selectManyMode:!0,updateManyMode:!0,removeManyMode:!0,fieldModifiers:{dateFromTimestamp:e=>{return e.substring(0,10)},timeFromTimestamp:e=>{let t=e||"";return t.substring(0,5)},datetimeFromTimestamp:e=>{return"<nobr>"+e.substring(0,19)+"</nobr>"},croppedText:e=>{return null==e||e.length<100?e:e.substring(0,100)+"..."},list:e=>{return e?e.map(e=>e.tableList).join(", "):""},listTasks:e=>{return e?e.map(e=>{return e.task.name}).join("<br>"):""},lastReset:e=>{if(e.length>0)return"<nobr>"+e[e.length-1].reset_time.substring(0,19)+"</nobr>"}}}},c88e:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("span",[e._v("\n    "+e._s(e.$t("global.datatable.records"))+" "+e._s(e.pageStart)+" - "+e._s(e.pageStop)+" "+e._s(e.$t("global.datatable.from"))+" "+e._s(e.itemsLength)+"\n  ")]),i("span",{staticStyle:{"margin-left":"30px"}},[e._v("\n    "+e._s(e.$t("global.datatable.page"))+":\n     \n    "),i("span",{staticStyle:{width:"50px",display:"inline-block !important"}},[i("v-text-field",{attrs:{value:e.pagination.page,type:"number",min:"1",max:e.calcPages},on:{input:function(t){return e.setPage(t)}}})],1)])])},s=[],o={props:["pageStart","pageStop","itemsLength","pagination"],computed:{calcPages(){return Math.ceil(this.itemsLength/this.pagination.itemsPerPage)}},methods:{setPage(e){this.$emit("setPage",e)}}},n=o,r=i("2877"),l=i("6544"),d=i.n(l),c=i("8654"),m=Object(r["a"])(n,a,s,!1,null,null,null);t["a"]=m.exports;d()(m,{VTextField:c["a"]})},d2ae:function(e,t,i){e.exports=i.p+"img/vue-crud-avatar.176f58ce.png"},d945:function(e,t,i){"use strict";var a=i("583d"),s=i.n(a);s.a},e183:function(e,t,i){e.exports=i.p+"img/vue-crud-md.ee509a0d.png"},e207:function(e,t,i){"use strict";var a=i("f336"),s=i.n(a);s.a},eb7c:function(e,t,i){"use strict";var a=i("92c9"),s=i.n(a);s.a},f1ad:function(e,t,i){"use strict";t["a"]={computed:{filteredItems(){let e=["soft","both"].includes(this.deleteMode)?this.items.filter(e=>this.selectedStatuses.includes(parseInt(e.meta.active))):this.items;const{columnFilters:t}=this;e=e.filter(e=>{let i=!0;for(let a=0;a<t.length;a++)if(""!==t[a].value){i=!1;const s=t[a].name;let o=e[s];if("string"===typeof o||o instanceof String||"number"===typeof o)switch(o=o.toString().toLowerCase(),t[a].mode){case"like":o.includes(t[a].value)&&(i=!0);break;case"equals":o===t[a].value&&(i=!0);break;case"list":const e=t[a].value.split(";");e.includes(o)&&(i=!0);break;default:break}if(!i)break}return i});const i=""===this.search?[]:this.search.toLowerCase().split(" ");return e=e.filter(e=>{let t=!0;for(let a=0;a<i.length;a++){t=!1;for(const s in e){let o=e[s];("string"===typeof o||o instanceof String||"number"===typeof o)&&(o=o.toString().toLowerCase(),o.includes(i[a])&&(t=!0))}if(!t)break}return t}),e}},methods:{getItemIndex(e){return this.filteredItems.map(e=>e.meta.id).indexOf(e)},exportToExcel(){this.excelLoading=!0;const e=this.cleanHeaders.map(e=>e.text),t=this.filteredItems.map(e=>{const t=[];for(const i of this.cleanHeaders)t.push(e[i.value]);return t});i.e("chunk-03bdb9f4").then(i.bind(null,"706d")).then(i=>{this.excelLoading=!1,i.export_json_to_excel({header:e,data:t,filename:this.excelName,autoWidth:!0,bookType:"xlsx"})})},startSearching(){}},watch:{selectedStatuses(){this.pagination.page=1}}}},f336:function(e,t,i){},fa45:function(e,t,i){},fae5:function(e,t,i){"use strict";var a=i("208d"),s=i.n(a);s.a}});
//# sourceMappingURL=app.21b6cde4.js.map
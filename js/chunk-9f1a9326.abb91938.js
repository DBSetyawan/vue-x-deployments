(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f1a9326","chunk-2bd9216d"],{"0555":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-wrapper"},[a("label",{staticClass:"field-wrapper__label"},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._t("default")],2)},i=[],s={name:"FieldWrapper",props:["label"]},r=s,d=(a("ec5c"),a("2877")),o=Object(d["a"])(r,l,i,!1,null,"5037099b",null);t["default"]=o.exports},2052:function(e,t,a){},"2b5a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("field-wrapper",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"5"}},[a("v-btn",{staticClass:"jbtn-file",class:e.fileUploadBtn(e.uploadStatus),attrs:{loading:e.uploadLoader,dark:""}},[e._v("\n        "+e._s(e.$t("global.details.files.upload"))+"\n        "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("\n          "+e._s(e.fileUploadIcon(e.uploadStatus))+"\n        ")]),a("input",{ref:"fileInput",attrs:{id:e.field.name,multiple:!1,disabled:e.field.disabled,type:"file",accept:"*"},on:{change:function(t){return e.fileSelected(t,e.field)}}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"7"}},[a("v-text-field",{attrs:{rules:e.rules,label:e.field.text,value:e.filename,disabled:"","hide-details":""}})],1)],1)],1)},i=[],s=a("2f62"),r=a("0555"),d={name:"FileField",components:{FieldWrapper:r["default"]},props:["value","fieldType","field","rules"],data(){return{file:void 0,uploadStatus:"ready",uploadLoader:!1}},computed:{...Object(s["e"])("crud",["details","path","prefix"]),...Object(s["c"])("crud",["uploadPath"]),filename(){let e;if("file"===this.fieldType&&void 0!==this.file&&null!==this.file)try{e=JSON.parse(this.file).filename}catch(t){return""}return e}},methods:{onBlur(){this.$emit("input",this.text),this.$emit("change")},fileUploadBtn(e){const t={ready:"primary",success:"success",error:"error"};return t[e]},fileUploadIcon(e){const t={ready:"save_alt",success:"check",error:"close"};return t[e]},fileSelected(e,t){const a=e.target.files[0];if(a){this.uploadLoader=!0;const e=new FormData;e.append("file",a),e.append("module",this.prefix),e.append("table",this.path),e.append("field",t.column),this.$http.post(this.uploadPath,e,{}).then(e=>{0===e.body.status?(this.file=JSON.stringify({filename:a.name,mime:a.type,size:a.size,path:e.body.path,uploaded:1}),this.$emit("input",this.file),this.uploadStatus="success"):(this.uploadStatus="error",-1===e.body.status?this.openAlertBox(["alertError",e.body.msg]):-2===e.body.status&&this.openAlertBox(["alertValidationError",e.body.msg])),this.uploadLoader=!1},()=>{this.uploadLoader=!1,this.uploadStatus="error"})}}},watch:{value:{immediate:!0,handler(e){this.file=e}},reload:function(e){e&&(this.uploadLoader=!1,this.uploadStatus="ready")},uploadStatus:function(e){"ready"!==e&&setTimeout(()=>{this.uploadStatus="ready"},1e3)}}},o=d,n=(a("d1fd"),a("2877")),u=a("6544"),p=a.n(u),c=a("8336"),f=a("62ad"),h=a("132d"),m=a("0fd9"),b=a("8654"),v=Object(n["a"])(o,l,i,!1,null,"abba0504",null);t["default"]=v.exports;p()(v,{VBtn:c["a"],VCol:f["a"],VIcon:h["a"],VRow:m["a"],VTextField:b["a"]})},d1fd:function(e,t,a){"use strict";var l=a("2052"),i=a.n(l);i.a},ec5c:function(e,t,a){"use strict";var l=a("f1aa"),i=a.n(l);i.a},f1aa:function(e,t,a){}}]);
//# sourceMappingURL=chunk-9f1a9326.abb91938.js.map
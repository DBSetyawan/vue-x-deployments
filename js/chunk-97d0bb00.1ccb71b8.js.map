{"version":3,"sources":["webpack:///./src/utils/crud/mixins/crud-instance.js","webpack:///./src/utils/crud/components/CrudTableClientMode.vue?ca5f","webpack:///src/utils/crud/components/CrudTableClientMode.vue","webpack:///./src/utils/crud/components/CrudTableClientMode.vue?39d0","webpack:///./src/utils/crud/components/CrudTableClientMode.vue","webpack:///./src/utils/crud/mixins/crud-table.js"],"names":["props","selected","computed","this","map","item","meta","id","itemsList","tableFields","primaryKey","customButtons","activeColumnName","$t","page","methods","runItemsViewRefreshing","beforeGetItem","getItem","then","editItemDialog","resetItem","createItemDialog","obj","updateItem","confirm","deleteItem","length","openAlertBox","setSelectedIds","multipleEditDialog","checkSelected","mulitipleItemsUpdate","ids","selectedIds","request","active","mulitipleItemsDelete","name","index","getItemIndex","$parent","custom","itemElements","setItemElementsInfo","getItemElements","render","_vm","_h","$createElement","_c","_self","attrs","createMode","editMode","deleteMode","selectManyMode","updateManyMode","removeManyMode","mainFilter","fieldFilters","refreshButton","exportButton","excelLoading","search","selectedStatuses","columnFilters","on","create","editSelected","suspendSelected","restoreSelected","destroySelected","refreshItemsView","updateColumnFilterMode","updateColumnFilterValue","updateSearch","updateSelectedStatuses","clearFilters","exportToExcel","pagination","headers","filteredItems","footerProps","loading","$event","scopedSlots","_u","_l","header","i","key","fn","ref","value","editButton","edit","suspend","restore","destroy","editItemElements","resolveRowDoubleClick","_t","textMode","pageStart","pageStop","itemsLength","setPage","model","callback","$$v","expression","staticRenderFns","mixins","components","Controls","realIndex","itemsPerPage","newItemId","setCurrentItem","getItemDetails","response","showItemDetailsDialog","resetItems","getItems","watch","val","component","VCard","VDataTable","goToItemButton","button","moveItemDirection","currentIndex","currentItemIndex","totalItems","possible","Math","ceil","moveDetailsItem","moveItem"],"mappings":"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","file":"js/chunk-97d0bb00.1ccb71b8.js","sourcesContent":["import {\n  mapState,\n  mapGetters,\n  mapMutations,\n  mapActions,\n} from 'vuex'\n\nexport default {\n  props: [\n    'itemsViewConfig',\n    'tableFields',\n    'deleteMode',\n    'customButtons',\n    'itemElements',\n    'editButton',\n    'meta',\n    'primaryKey',\n    'activeColumnName',\n    'createMode',\n    'editMode',\n    'mainFilter',\n    'fieldFilters',\n    'exportButton',\n    'refreshButton',\n    'selectManyMode',\n    'updateManyMode',\n    'removeManyMode',\n  ],\n  data () {\n    return {\n      selected: [],\n    }\n  },\n  computed: {\n    ...mapState('app', ['page']),\n    ...mapState('crud', [\n      'prefix',\n      'path',\n      'currentItemIndex',\n      'currentItemId',\n    ]),\n    ...mapGetters('crud', ['itemsList']),\n    selectedIds () {\n      return this.selected.map(item => item.meta.id)\n    },\n    items () {\n      return this.itemsList(\n        this.tableFields,\n        this.meta,\n        this.primaryKey,\n        this.customButtons,\n        this.activeColumnName\n      )\n    },\n    excelName () {\n      return this.$t(`global.routes.${this.page}`)\n    },\n  },\n  methods: {\n    ...mapMutations('crud', [\n      'showItemDetailsDialog',\n      'setCurrentItem',\n      'resetItems',\n      'resetItem',\n      'editItemDialog',\n      'createItemDialog',\n      'multipleEditDialog',\n      'setItemElementsInfo',\n      'editItemElementsDialog',\n      'setSelectedIds',\n    ]),\n    ...mapActions('crud', [\n      'getItem',\n      'updateItem',\n      'storeItem',\n      'deleteItem',\n      'getItemElements',\n      'mulitipleItemsUpdate',\n      'mulitipleItemsDelete',\n      'getItemDetails',\n      'runItemsViewRefreshing',\n    ]),\n    ...mapActions(['openAlertBox']),\n    refreshItemsView () {\n      this.runItemsViewRefreshing()\n    },\n    edit (id) {\n      this.beforeGetItem(id)\n      this.getItem([id]).then(() => {\n        this.editItemDialog(id)\n      })\n    },\n    create () {\n      this.resetItem()\n      this.createItemDialog()\n    },\n    suspend (id) {\n      const obj = {}\n      obj[this.activeColumnName] = 0\n      this.updateItem([\n        id,\n        obj,\n        this.$t('global.alerts.suspended'),\n        this.$t('global.alerts.suspendError'),\n      ])\n    },\n    restore (id) {\n      const obj = {}\n      obj[this.activeColumnName] = 1\n      this.updateItem([\n        id,\n        obj,\n        this.$t('global.alerts.restored'),\n        this.$t('global.alerts.restoreError'),\n      ])\n    },\n    destroy (id) {\n      if (confirm(this.$t('global.alerts.confirm'))) {\n        this.deleteItem([\n          id,\n          this.$t('global.alerts.deleted'),\n          this.$t('global.alerts.deleteError'),\n        ])\n      }\n    },\n    checkSelected () {\n      if (this.selected.length === 0) {\n        this.openAlertBox([\n          'alertError',\n          this.$t('global.datatable.noItemsSelected'),\n        ])\n        return false\n      }\n      if (confirm(this.$t('global.datatable.confirm'))) {\n        return true\n      }\n      return false\n    },\n    editSelected () {\n      if (this.selected.length === 0) {\n        this.openAlertBox([\n          'alertError',\n          this.$t('global.datatable.noItemsSelected'),\n        ])\n        return false\n      }\n\n      this.setSelectedIds(this.selected)\n      this.resetItem()\n      this.multipleEditDialog()\n    },\n    suspendSelected () {\n      if (this.checkSelected()) {\n        this.mulitipleItemsUpdate([\n          {\n            ids: this.selectedIds,\n            request: {\n              active: 0,\n            },\n          },\n          this.$t('global.alerts.suspended'),\n          this.$t('global.alerts.suspendError'),\n        ])\n      }\n    },\n    restoreSelected () {\n      if (this.checkSelected()) {\n        this.mulitipleItemsUpdate([\n          {\n            ids: this.selectedIds,\n            request: {\n              active: 1,\n            },\n          },\n          this.$t('global.alerts.restored'),\n          this.$t('global.alerts.restoreError'),\n        ])\n      }\n    },\n    destroySelected () {\n      if (this.checkSelected()) {\n        this.mulitipleItemsDelete([\n          {\n            ids: this.selectedIds,\n          },\n          this.$t('global.alerts.deleted'),\n          this.$t('global.alerts.deleteError'),\n        ])\n      }\n    },\n    custom (name, item) {\n      const index = this.getItemIndex(item.meta.id)\n      this.$parent.custom(name, item, index)\n    },\n    editItemElements (name, id) {\n      const obj = this.itemElements[name]\n      this.setItemElementsInfo([\n        id,\n        obj,\n      ])\n      this.getItemElements()\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('controls',{attrs:{\"create-mode\":_vm.createMode,\"edit-mode\":_vm.editMode,\"delete-mode\":_vm.deleteMode,\"select-many-mode\":_vm.selectManyMode,\"update-many-mode\":_vm.updateManyMode,\"remove-many-mode\":_vm.removeManyMode,\"main-filter\":_vm.mainFilter,\"field-filters\":_vm.fieldFilters,\"refresh-button\":_vm.refreshButton,\"export-button\":_vm.exportButton,\"excel-loading\":_vm.excelLoading,\"initialSearch\":_vm.search,\"initialSelectedStatuses\":_vm.selectedStatuses,\"initialColumnFilters\":_vm.columnFilters},on:{\"create\":_vm.create,\"editSelected\":_vm.editSelected,\"suspendSelected\":_vm.suspendSelected,\"restoreSelected\":_vm.restoreSelected,\"destroySelected\":_vm.destroySelected,\"refreshItemsView\":_vm.refreshItemsView,\"updateColumnFilterMode\":_vm.updateColumnFilterMode,\"updateColumnFilterValue\":_vm.updateColumnFilterValue,\"updateSearch\":_vm.updateSearch,\"updateSelectedStatuses\":_vm.updateSelectedStatuses,\"clearFilters\":_vm.clearFilters,\"exportToExcel\":_vm.exportToExcel}}),_c('v-data-table',{attrs:{\"show-select\":_vm.selectManyMode,\"options\":_vm.pagination,\"headers\":_vm.headers,\"items\":_vm.filteredItems,\"item-key\":\"meta.id\",\"no-results-text\":_vm.$t('global.datatable.noMatchingResults'),\"no-data-text\":_vm.$t('global.datatable.noDataAvailable'),\"footer-props\":_vm.footerProps,\"items-per-page\":20,\"loading\":_vm.loading,\"light\":\"\",\"multi-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([_vm._l((_vm.headers),function(header,i){return {key:(\"item.\" + (header.value)),fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{key:i},[(header.value==='actions')?_c('list-item-actions',{attrs:{\"item\":item,\"edit-button\":_vm.editButton,\"custom-buttons\":_vm.customButtons,\"delete-mode\":_vm.deleteMode,\"item-elements\":_vm.itemElements,\"edit-mode\":_vm.editMode,\"select-many-mode\":_vm.selectManyMode},on:{\"edit\":_vm.edit,\"custom\":_vm.custom,\"suspend\":_vm.suspend,\"restore\":_vm.restore,\"destroy\":_vm.destroy,\"editItemElements\":_vm.editItemElements,\"doubleClick\":_vm.resolveRowDoubleClick}}):_c('span',[_vm._t((\"field:\" + (header.value)),[_c('list-item-field',{attrs:{\"value\":item[header.value],\"text-mode\":_vm.textMode(item, header.value)}})],{\"value\":item[header.value],\"item\":item})],2)],1)]}}}),{key:\"footer.page-text\",fn:function(ref){\nvar pageStart = ref.pageStart;\nvar pageStop = ref.pageStop;\nvar itemsLength = ref.itemsLength;\nreturn [_c('table-footer',{attrs:{\"pagination\":_vm.pagination,\"page-start\":pageStart,\"page-stop\":pageStop,\"items-length\":itemsLength},on:{\"setPage\":_vm.setPage}})]}}],null,true),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card flat>\n    <controls\n      :create-mode=\"createMode\"\n      :edit-mode=\"editMode\"\n      :delete-mode=\"deleteMode\"\n      :select-many-mode=\"selectManyMode\"\n      :update-many-mode=\"updateManyMode\"\n      :remove-many-mode=\"removeManyMode\"\n      :main-filter=\"mainFilter\"\n      :field-filters=\"fieldFilters\"\n      :refresh-button=\"refreshButton\"\n      :export-button=\"exportButton\"\n      :excel-loading=\"excelLoading\"\n      :initialSearch=\"search\"\n      :initialSelectedStatuses=\"selectedStatuses\"\n      :initialColumnFilters=\"columnFilters\"\n      @create=\"create\"\n      @editSelected=\"editSelected\"\n      @suspendSelected=\"suspendSelected\"\n      @restoreSelected=\"restoreSelected\"\n      @destroySelected=\"destroySelected\"\n      @refreshItemsView=\"refreshItemsView\"\n      @updateColumnFilterMode=\"updateColumnFilterMode\"\n      @updateColumnFilterValue=\"updateColumnFilterValue\"\n      @updateSearch=\"updateSearch\"\n      @updateSelectedStatuses=\"updateSelectedStatuses\"\n      @clearFilters=\"clearFilters\"\n      @exportToExcel=\"exportToExcel\"\n    >\n    </controls>\n    <!-- Table -->\n    <v-data-table\n      v-model=\"selected\"\n      :show-select=\"selectManyMode\"\n      :options.sync=\"pagination\"\n      :headers=\"headers\"\n      :items=\"filteredItems\"\n      item-key=\"meta.id\"\n      :no-results-text=\"$t('global.datatable.noMatchingResults')\"\n      :no-data-text=\"$t('global.datatable.noDataAvailable')\"\n      :footer-props=\"footerProps\"\n      :items-per-page=\"20\"\n      :loading=\"loading\"\n      light\n      multi-sort\n      dense\n    >\n      <template\n        v-for=\"(header, i) in headers\"\n        v-slot:[`item.${header.value}`]=\"{ item }\"\n      >\n        <span :key=\"i\">\n          <list-item-actions\n            v-if=\"header.value==='actions'\"\n            :item=\"item\"\n            :edit-button='editButton'\n            :custom-buttons='customButtons'\n            :delete-mode='deleteMode'\n            :item-elements=\"itemElements\"\n            :edit-mode=\"editMode\"\n            :select-many-mode=\"selectManyMode\"\n            @edit=\"edit\"\n            @custom=\"custom\"\n            @suspend=\"suspend\"\n            @restore=\"restore\"\n            @destroy=\"destroy\"\n            @editItemElements=\"editItemElements\"\n            @doubleClick=\"resolveRowDoubleClick\"\n          />\n          <span v-else>\n            <slot\n              :name=\"`field:${header.value}`\"\n              :value=\"item[header.value]\"\n              :item=\"item\"\n            >\n              <list-item-field\n                :value=\"item[header.value]\"\n                :text-mode=\"textMode(item, header.value)\"\n              />\n            </slot>\n          </span>\n        </span>\n      </template>\n      <template slot=\"footer.page-text\" slot-scope=\"{ pageStart, pageStop, itemsLength }\">\n        <table-footer\n          @setPage=\"setPage\"\n          :pagination=\"pagination\"\n          :page-start=\"pageStart\"\n          :page-stop=\"pageStop\"\n          :items-length=\"itemsLength\"\n        ></table-footer>\n      </template>\n    </v-data-table>\n  </v-card>\n</template>\n\n<script>\n\nimport {\n  mapState,\n  mapActions,\n} from 'vuex'\n\nimport CrudInstanceMixin from '../mixins/crud-instance'\nimport ControlsHandlerMixin from '../mixins/controls-handler'\nimport ItemsViewMixin from '../mixins/items-view'\nimport CrudTableMixin from '../mixins/crud-table'\nimport ClientModeFilteringMixin from '../mixins/table-client-mode-filtering'\nimport HelperMixin from '../mixins/table'\n\nimport Controls from './Controls.vue'\n\nexport default {\n  name: 'CrudTableClientMode',\n  mixins: [\n    CrudInstanceMixin,\n    ControlsHandlerMixin,\n    ItemsViewMixin,\n    CrudTableMixin,\n    ClientModeFilteringMixin,\n    HelperMixin,\n  ],\n  components: {\n    Controls,\n  },\n  data () {\n    return {}\n  },\n  computed: {\n    ...mapState('crud', [\n      'loading',\n      'detailsDialog',\n      'isItemsViewRefreshed',\n    ]),\n    totalItems () {\n      return this.filteredItems.length\n    },\n  },\n  methods: {\n    ...mapActions('crud', ['getItems']),\n    moveDetailsItem (page, index) {\n      this.pagination.page = page\n      const realIndex = (page - 1) * this.pagination.itemsPerPage + index\n      const newItemId = this.filteredItems[realIndex].meta.id\n      this.setCurrentItem({ id: newItemId, index })\n      this.getItemDetails([newItemId]).then((response) => {\n        this.showItemDetailsDialog()\n      })\n    },\n  },\n  created () {\n    this.resetItems()\n    this.getItems()\n  },\n  watch: {\n    detailsDialog (val) {\n      if (!val) {\n        this.getItems()\n      }\n    },\n    isItemsViewRefreshed (val) {\n      if (val) {\n        this.getItems()\n      }\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrudTableClientMode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrudTableClientMode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CrudTableClientMode.vue?vue&type=template&id=b3badf5a&\"\nimport script from \"./CrudTableClientMode.vue?vue&type=script&lang=js&\"\nexport * from \"./CrudTableClientMode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VCard,VDataTable})\n","import {\n  mapState,\n  mapMutations,\n} from 'vuex'\n\nexport default {\n  computed: {\n    ...mapState('crud', [\n      'nextItem',\n      'moveItemRun',\n      'moveItemDirection',\n    ]),\n  },\n  methods: {\n    ...mapMutations('crud', [\n      'setCurrentItem',\n      'moveItem',\n    ]),\n    beforeGetItem (id) {\n      const index = this.getItemIndex(id)\n      this.setCurrentItem({\n        id,\n        index,\n      })\n    },\n    resolveRowDoubleClick (item, index) {\n      if (this.editMode) {\n        let goToItemButton = false\n        for (const button of this.customButtons) {\n          if (button.name === 'goToItem') {\n            goToItemButton = true\n            break\n          }\n        }\n        if (goToItemButton) {\n          this.custom('goToItem', item, index)\n        } else {\n          this.edit(item.meta.id, index)\n        }\n      }\n    },\n  },\n  watch: {\n    moveItemRun (val) {\n      if (val) {\n        const {\n          moveItemDirection,\n        } = this\n        let currentIndex = this.currentItemIndex\n        let {\n          page,\n        } = this.pagination\n        const {\n          itemsPerPage,\n        } = this.pagination\n        const {\n          totalItems,\n        } = this\n        let possible = true\n        if (moveItemDirection === 'previous') {\n          if (currentIndex > 0) {\n            currentIndex -= 1\n          } else if (page > 1) {\n            page -= 1\n            currentIndex = itemsPerPage - 1\n          } else {\n            possible = false\n          }\n        } else if (moveItemDirection === 'next') {\n          if (currentIndex < itemsPerPage - 1 && (page - 1) * itemsPerPage + currentIndex + 1 <\n            totalItems) {\n            currentIndex += 1\n          } else if (page < Math.ceil(totalItems / itemsPerPage)) {\n            page += 1\n            currentIndex = 0\n          } else {\n            possible = false\n          }\n        }\n        if (possible) {\n          this.moveDetailsItem(page, currentIndex)\n        }\n        this.moveItem([\n          '',\n          false,\n        ])\n      }\n    },\n  },\n}\n"],"sourceRoot":""}